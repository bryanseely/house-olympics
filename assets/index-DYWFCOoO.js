(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},Eo={};var M0;function wb(){if(M0)return Eo;M0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Eo.Fragment=e,Eo.jsx=i,Eo.jsxs=i,Eo}var V0;function xb(){return V0||(V0=1,Od.exports=wb()),Od.exports}var E=xb(),Md={exports:{}},be={};var k0;function Rb(){if(k0)return be;k0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.iterator;function B(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function ue(M,X,ie){this.props=M,this.context=X,this.refs=te,this.updater=ie||W}ue.prototype.isReactComponent={},ue.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ue.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pe(){}pe.prototype=ue.prototype;function J(M,X,ie){this.props=M,this.context=X,this.refs=te,this.updater=ie||W}var le=J.prototype=new pe;le.constructor=J,ee(le,ue.prototype),le.isPureReactComponent=!0;var _e=Array.isArray;function he(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function w(M,X,ie){var ae=ie.ref;return{$$typeof:s,type:M,key:X,ref:ae!==void 0?ae:null,props:ie}}function I(M,X){return w(M.type,X,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return X[ie]})}var R=/\/+/g;function Qe(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function $e(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(he,he):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,ie,ae,Ee){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case A:return Le=M._init,F(Le(M._payload),X,ie,ae,Ee)}}if(Le)return Ee=Ee(M),Le=ae===""?"."+Qe(M,0):ae,_e(Ee)?(ie="",Le!=null&&(ie=Le.replace(R,"$&/")+"/"),F(Ee,X,ie,"",function(rr){return rr})):Ee!=null&&(D(Ee)&&(Ee=I(Ee,ie+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Le)),X.push(Ee)),1;Le=0;var Nt=ae===""?".":ae+":";if(_e(M))for(var at=0;at<M.length;at++)ae=M[at],xe=Nt+Qe(ae,at),Le+=F(ae,X,ie,xe,Ee);else if(at=B(M),typeof at=="function")for(M=at.call(M),at=0;!(ae=M.next()).done;)ae=ae.value,xe=Nt+Qe(ae,at++),Le+=F(ae,X,ie,xe,Ee);else if(xe==="object"){if(typeof M.then=="function")return F($e(M),X,ie,ae,Ee);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function z(M,X,ie){if(M==null)return M;var ae=[],Ee=0;return F(M,ae,"","",function(xe){return X.call(ie,xe,Ee++)}),ae}function se(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:z,forEach:function(M,X,ie){z(M,function(){X.apply(this,arguments)},ie)},count:function(M){var X=0;return z(M,function(){X++}),X},toArray:function(M){return z(M,function(X){return X})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=x,be.Children=qe,be.Component=ue,be.Fragment=i,be.Profiler=o,be.PureComponent=J,be.StrictMode=a,be.Suspense=v,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,X,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=ee({},M.props),Ee=M.key;if(X!=null)for(xe in X.key!==void 0&&(Ee=""+X.key),X)!T.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(ae[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)ae.children=ie;else if(1<xe){for(var Le=Array(xe),Nt=0;Nt<xe;Nt++)Le[Nt]=arguments[Nt+2];ae.children=Le}return w(M.type,Ee,ae)},be.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},be.createElement=function(M,X,ie){var ae,Ee={},xe=null;if(X!=null)for(ae in X.key!==void 0&&(xe=""+X.key),X)T.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=X[ae]);var Le=arguments.length-2;if(Le===1)Ee.children=ie;else if(1<Le){for(var Nt=Array(Le),at=0;at<Le;at++)Nt[at]=arguments[at+2];Ee.children=Nt}if(M&&M.defaultProps)for(ae in Le=M.defaultProps,Le)Ee[ae]===void 0&&(Ee[ae]=Le[ae]);return w(M,xe,Ee)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:p,render:M}},be.isValidElement=D,be.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:se}},be.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},be.startTransition=function(M){var X=C.T,ie={};C.T=ie;try{var ae=M(),Ee=C.S;Ee!==null&&Ee(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(he,Ue)}catch(xe){Ue(xe)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),C.T=X}},be.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},be.use=function(M){return C.H.use(M)},be.useActionState=function(M,X,ie){return C.H.useActionState(M,X,ie)},be.useCallback=function(M,X){return C.H.useCallback(M,X)},be.useContext=function(M){return C.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,X){return C.H.useDeferredValue(M,X)},be.useEffect=function(M,X){return C.H.useEffect(M,X)},be.useEffectEvent=function(M){return C.H.useEffectEvent(M)},be.useId=function(){return C.H.useId()},be.useImperativeHandle=function(M,X,ie){return C.H.useImperativeHandle(M,X,ie)},be.useInsertionEffect=function(M,X){return C.H.useInsertionEffect(M,X)},be.useLayoutEffect=function(M,X){return C.H.useLayoutEffect(M,X)},be.useMemo=function(M,X){return C.H.useMemo(M,X)},be.useOptimistic=function(M,X){return C.H.useOptimistic(M,X)},be.useReducer=function(M,X,ie){return C.H.useReducer(M,X,ie)},be.useRef=function(M){return C.H.useRef(M)},be.useState=function(M){return C.H.useState(M)},be.useSyncExternalStore=function(M,X,ie){return C.H.useSyncExternalStore(M,X,ie)},be.useTransition=function(){return C.H.useTransition()},be.version="19.2.4",be}var j0;function Sm(){return j0||(j0=1,Md.exports=Rb()),Md.exports}var Ce=Sm(),Vd={exports:{}},To={},kd={exports:{}},jd={};var U0;function Cb(){return U0||(U0=1,(function(s){function e(F,z){var se=F.length;F.push(z);e:for(;0<se;){var Ue=se-1>>>1,qe=F[Ue];if(0<o(qe,z))F[Ue]=z,F[se]=qe,se=Ue;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var z=F[0],se=F.pop();if(se!==z){F[0]=se;e:for(var Ue=0,qe=F.length,M=qe>>>1;Ue<M;){var X=2*(Ue+1)-1,ie=F[X],ae=X+1,Ee=F[ae];if(0>o(ie,se))ae<qe&&0>o(Ee,ie)?(F[Ue]=Ee,F[ae]=se,Ue=ae):(F[Ue]=ie,F[X]=se,Ue=X);else if(ae<qe&&0>o(Ee,se))F[Ue]=Ee,F[ae]=se,Ue=ae;else break e}}return z}function o(F,z){var se=F.sortIndex-z.sortIndex;return se!==0?se:F.id-z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,x=null,V=3,B=!1,W=!1,ee=!1,te=!1,ue=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function le(F){for(var z=i(y);z!==null;){if(z.callback===null)a(y);else if(z.startTime<=F)a(y),z.sortIndex=z.expirationTime,e(v,z);else break;z=i(y)}}function _e(F){if(ee=!1,le(F),!W)if(i(v)!==null)W=!0,he||(he=!0,k());else{var z=i(y);z!==null&&$e(_e,z.startTime-F)}}var he=!1,C=-1,T=5,w=-1;function I(){return te?!0:!(s.unstable_now()-w<T)}function D(){if(te=!1,he){var F=s.unstable_now();w=F;var z=!0;try{e:{W=!1,ee&&(ee=!1,pe(C),C=-1),B=!0;var se=V;try{t:{for(le(F),x=i(v);x!==null&&!(x.expirationTime>F&&I());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,V=x.priorityLevel;var qe=Ue(x.expirationTime<=F);if(F=s.unstable_now(),typeof qe=="function"){x.callback=qe,le(F),z=!0;break t}x===i(v)&&a(v),le(F)}else a(v);x=i(v)}if(x!==null)z=!0;else{var M=i(y);M!==null&&$e(_e,M.startTime-F),z=!1}}break e}finally{x=null,V=se,B=!1}z=void 0}}finally{z?k():he=!1}}}var k;if(typeof J=="function")k=function(){J(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Qe=R.port2;R.port1.onmessage=D,k=function(){Qe.postMessage(null)}}else k=function(){ue(D,0)};function $e(F,z){C=ue(function(){F(s.unstable_now())},z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(F){switch(V){case 1:case 2:case 3:var z=3;break;default:z=V}var se=V;V=z;try{return F()}finally{V=se}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=V;V=F;try{return z()}finally{V=se}},s.unstable_scheduleCallback=function(F,z,se){var Ue=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ue+se:Ue):se=Ue,F){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=se+qe,F={id:A++,callback:z,priorityLevel:F,startTime:se,expirationTime:qe,sortIndex:-1},se>Ue?(F.sortIndex=se,e(y,F),i(v)===null&&F===i(y)&&(ee?(pe(C),C=-1):ee=!0,$e(_e,se-Ue))):(F.sortIndex=qe,e(v,F),W||B||(W=!0,he||(he=!0,k()))),F},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(F){var z=V;return function(){var se=V;V=z;try{return F.apply(this,arguments)}finally{V=se}}}})(jd)),jd}var L0;function Nb(){return L0||(L0=1,kd.exports=Cb()),kd.exports}var Ud={exports:{}},Yt={};var P0;function Ib(){if(P0)return Yt;P0=1;var s=Sm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,A)},Yt.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Yt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Yt.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Yt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,x=p(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:V,fetchPriority:B}):A==="script"&&a.d.X(v,{crossOrigin:x,integrity:V,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Yt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,x=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Yt.requestFormReset=function(v){a.d.r(v)},Yt.unstable_batchedUpdates=function(v,y){return v(y)},Yt.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var z0;function Db(){if(z0)return Ud.exports;z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Ib(),Ud.exports}var B0;function Ob(){if(B0)return To;B0=1;var s=Nb(),e=Sm(),i=Db();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,b=h.child;b;){if(b===r){g=!0,r=h,l=f;break}if(b===l){g=!0,l=h,r=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===r){g=!0,r=f,l=h;break}if(b===l){g=!0,l=f,r=h;break}b=b.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,V=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),J=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ue:return"Profiler";case te:return"StrictMode";case _e:return"Suspense";case he:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case J:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Qe(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return Qe(t(n))}catch{}}return null}var $e=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ue=[],qe=-1;function M(t){return{current:t}}function X(t){0>qe||(t.current=Ue[qe],Ue[qe]=null,qe--)}function ie(t,n){qe++,Ue[qe]=t.current,t.current=n}var ae=M(null),Ee=M(null),xe=M(null),Le=M(null);function Nt(t,n){switch(ie(xe,n),ie(Ee,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n0(n),t=i0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),ie(ae,t)}function at(){X(ae),X(Ee),X(xe)}function rr(t){t.memoizedState!==null&&ie(Le,t);var n=ae.current,r=i0(n,t.type);n!==r&&(ie(Ee,t),ie(ae,r))}function $r(t){Ee.current===t&&(X(ae),X(Ee)),Le.current===t&&(X(Le),go._currentValue=se)}var Jr,Zr;function Wn(t){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Zr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+Zr}var pl=!1;function ar(t,n){if(!t||pl)return"";pl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(G){var q=G}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(G){q=G}t.call(Y.prototype)}}else{try{throw Error()}catch(G){q=G}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var N=g.split(`
`),P=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{pl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Wn(r):""}function gl(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ar(t.type,!1);case 11:return ar(t.type.render,!1);case 1:return ar(t.type,!0);case 31:return Wn("Activity");default:return""}}function yl(t){try{var n="",r=null;do n+=gl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,It=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,en=s.unstable_now,lr=s.unstable_getCurrentPriorityLevel,_l=s.unstable_ImmediatePriority,vl=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,tu=s.log,nu=s.unstable_setDisableYieldValue,Un=null,Pt=null;function Sn(t){if(typeof tu=="function"&&nu(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Un,t)}catch{}}var ft=Math.clz32?Math.clz32:su,iu=Math.log,Wr=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/Wr|0)|0}var ei=256,or=262144,_t=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ti(l):(g&=b,g!==0?h=ti(g):r||(r=b&~t,r!==0&&(h=ti(r))))):(b=l&~f,b!==0?h=ti(b):g!==0?h=ti(g):r||(r=l&~t,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ur(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,l,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-ft(r),Y=1<<Q;b[Q]=0,N[Q]=-1;var q=P[Q];if(q!==null)for(P[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}r&=~Y}l!==0&&cr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function cr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ft(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function El(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ft(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Tl(t,n){var r=n&-n;return r=(r&42)!==0?1:hr(r),(r&(t.suspendedLanes|n))!==0?0:r}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:x0(t.type))}function Pn(t,n){var r=z.p;try{return z.p=t,n()}finally{z.p=r}}var zn=Math.random().toString(36).slice(2),vt="__reactFiber$"+zn,kt="__reactProps$"+zn,si="__reactContainer$"+zn,ea="__reactEvents$"+zn,Uh="__reactListeners$"+zn,lu="__reactHandles$"+zn,ou="__reactResources$"+zn,ri="__reactMarker$"+zn;function ta(t){delete t[vt],delete t[kt],delete t[ea],delete t[Uh],delete t[lu]}function ai(t){var n=t[vt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[si]||r[vt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=c0(t);t!==null;){if(r=t[vt])return r;t=c0(t)}return n}t=r,r=t.parentNode}return null}function An(t){if(t=t[vt]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function li(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(t){t[ri]=!0}var bl=new Set,Sl={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(Sl[t]=n,t=0;t<n.length;t++)bl.add(n[t])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},xl={};function uu(t){return yt.call(xl,t)?!0:yt.call(wl,t)?!1:Al.test(t)?xl[t]=!0:(wl[t]=!0,!1)}function na(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function mn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Tt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=rs(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function fr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=rs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dr=/[\n"\\]/g;function sn(t){return t.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(t,n,r,l,h,f,g,b){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Cl(t,g,jt(n)):r!=null?Cl(t,g,jt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function cu(t,n,r,l,h,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}r=r!=null?""+jt(r):"",n=n!=null?""+jt(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ke(t)}function Cl(t,n,r){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function as(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+jt(r):""}function ls(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if($e(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=jt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ke(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Il(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Nl(t,f,n[f])}function sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var Dl=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var us=null,hi=null;function mr(t){var n=An(t);if(n&&(t=n.stateNode)){var r=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ia(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&fr(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&as(t,!!r.multiple,n,!1)}}}var aa=!1;function cs(t,n,r){if(aa)return t(n,r);aa=!0;try{var l=t(n);return l}finally{if(aa=!1,(us!==null||hi!==null)&&(ac(),us&&(n=us,t=hi,hi=us=null,mr(n),t)))for(n=0;n<t.length;n++)mr(t[n])}}function qn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(xn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{pr=!1}var fi=null,Ol=null,gr=null;function Ml(){if(gr)return gr;var t,n=Ol,r=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return gr=h.slice(t,1<l?1-l:void 0)}function yr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Di(){return!0}function Hn(){return!1}function zt(t){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=zt(Oi),hs=x({},Oi,{view:0,detail:0}),Vl=zt(hs),fs,la,mi,oa=x({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(fs=t.screenX-mi.screenX,la=t.screenY-mi.screenY):la=fs=0,mi=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:la}}),kl=zt(oa),_r=x({},oa,{dataTransfer:0}),mu=zt(_r),pu=x({},hs,{relatedTarget:0}),vr=zt(pu),jl=x({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=zt(jl),ua=x({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=zt(ua),_u=x({},Oi,{data:0}),pi=zt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ds(){return bu}var tn=x({},hs,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=zt(tn),Au=x({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=zt(Au),u=x({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=zt(u),_=x({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=zt(_),U=x({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=zt(U),ne=x({},Oi,{newState:0,oldState:0}),Ae=zt(ne),dt=[9,13,27,32],He=xn&&"CompositionEvent"in window,lt=null;xn&&"documentMode"in document&&(lt=document.documentMode);var Rn=xn&&"TextEvent"in window&&!lt,gi=xn&&(!He||lt&&8<lt&&11>=lt),Gn=" ",Fn=!1;function Er(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function X1(t,n){switch(t){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Fn?null:t;default:return null}}function $1(t,n){if(ha)return t==="compositionend"||!He&&Er(t,n)?(t=Ml(),gr=Ol=fi=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!J1[t.type]:n==="textarea"}function mp(t,n,r,l){us?hi?hi.push(l):hi=[l]:us=l,n=dc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ul=null,Ll=null;function Z1(t){$y(t,0)}function wu(t){var n=dn(t);if(fr(n))return t}function pp(t,n){if(t==="change")return n}var gp=!1;if(xn){var Lh;if(xn){var Ph="oninput"in document;if(!Ph){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Ph=typeof yp.oninput=="function"}Lh=Ph}else Lh=!1;gp=Lh&&(!document.documentMode||9<document.documentMode)}function _p(){Ul&&(Ul.detachEvent("onpropertychange",vp),Ll=Ul=null)}function vp(t){if(t.propertyName==="value"&&wu(Ll)){var n=[];mp(n,Ll,t,wn(t)),cs(Z1,n)}}function W1(t,n,r){t==="focusin"?(_p(),Ul=n,Ll=r,Ul.attachEvent("onpropertychange",vp)):t==="focusout"&&_p()}function eT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Ll)}function tT(t,n){if(t==="click")return wu(n)}function nT(t,n){if(t==="input"||t==="change")return wu(n)}function iT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:iT;function Pl(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!yt.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function Ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,n){var r=Ep(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ep(r)}}function bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ci(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sT=xn&&"documentMode"in document&&11>=document.documentMode,fa=null,Bh=null,zl=null,qh=!1;function Ap(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||fa==null||fa!==ci(l)||(l=fa,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Pl(zl,l)||(zl=l,l=dc(Bh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=fa)))}function Tr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var da={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Hh={},wp={};xn&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function br(t){if(Hh[t])return Hh[t];if(!da[t])return t;var n=da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in wp)return Hh[t]=n[r];return t}var xp=br("animationend"),Rp=br("animationiteration"),Cp=br("animationstart"),rT=br("transitionrun"),aT=br("transitionstart"),lT=br("transitioncancel"),Np=br("transitionend"),Ip=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Qn(t,n){Ip.set(t,n),oi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ma=0,Fh=0;function Ru(){for(var t=ma,n=Fh=ma=0;n<t;){var r=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Dp(r,h,f)}}function Cu(t,n,r,l){Cn[ma++]=t,Cn[ma++]=n,Cn[ma++]=r,Cn[ma++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,r,l){return Cu(t,n,r,l),Nu(t)}function Sr(t,n){return Cu(t,null,null,n),Nu(t)}function Dp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Nu(t){if(50<oo)throw oo=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var pa={};function oT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,r,l){return new oT(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var r=t.alternate;return r===null?(r=gn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Op(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,l,h,f){var g=0;if(l=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=db(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=gn(31,r,n,h),t.elementType=w,t.lanes=f,t;case ee:return Ar(r.children,h,f,n);case te:g=8,h|=24;break;case ue:return t=gn(12,r,n,h|2),t.elementType=ue,t.lanes=f,t;case _e:return t=gn(13,r,n,h),t.elementType=_e,t.lanes=f,t;case he:return t=gn(19,r,n,h),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:g=10;break e;case pe:g=9;break e;case le:g=11;break e;case C:g=14;break e;case T:g=16,l=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ar(t,n,r,l){return t=gn(7,t,l,n),t.lanes=r,t}function Yh(t,n,r){return t=gn(6,t,null,n),t.lanes=r,t}function Mp(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vp=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var r=Vp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yl(n)},Vp.set(t,n),n)}return{value:t,source:n,stack:yl(n)}}var ga=[],ya=0,Du=null,Bl=0,In=[],Dn=0,ms=null,yi=1,_i="";function ki(t,n){ga[ya++]=Bl,ga[ya++]=Du,Du=t,Bl=n}function kp(t,n,r){In[Dn++]=yi,In[Dn++]=_i,In[Dn++]=ms,ms=t;var l=yi;t=_i;var h=32-ft(l)-1;l&=~(1<<h),r+=1;var f=32-ft(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,yi=1<<32-ft(n)+h|r<<h|l,_i=f+t}else yi=1<<f|r<<h|l,_i=t}function $h(t){t.return!==null&&(ki(t,1),kp(t,1,0))}function Jh(t){for(;t===Du;)Du=ga[--ya],ga[ya]=null,Bl=ga[--ya],ga[ya]=null;for(;t===ms;)ms=In[--Dn],In[Dn]=null,_i=In[--Dn],In[Dn]=null,yi=In[--Dn],In[Dn]=null}function jp(t,n){In[Dn++]=yi,In[Dn++]=_i,In[Dn++]=ms,yi=n.id,_i=n.overflow,ms=t}var Bt=null,nt=null,je=!1,ps=null,On=!1,Zh=Error(a(519));function gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Nn(n,t)),Zh}function Up(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[vt]=t,n[kt]=l,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(r=0;r<co.length;r++)Ie(co[r],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),ls(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||e0(n.textContent,r)?(l.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),l.onScroll!=null&&Ie("scroll",n),l.onScrollEnd!=null&&Ie("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(t,!0)}function Lp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Bt=Bt.return}}function _a(t){if(t!==Bt)return!1;if(!je)return Lp(t),je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&nt&&gs(t),Lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=u0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));nt=u0(t)}else n===27?(n=nt,Is(t.type)?(t=bd,bd=null,nt=t):nt=n):nt=Bt?Vn(t.stateNode.nextSibling):null;return!0}function wr(){nt=Bt=null,je=!1}function Wh(){var t=ps;return t!==null&&(un===null?un=t:un.push.apply(un,t),ps=null),t}function ql(t){ps===null?ps=[t]:ps.push(t)}var ef=M(null),xr=null,ji=null;function ys(t,n,r){ie(ef,n._currentValue),n._currentValue=r}function Ui(t){t._currentValue=ef.current,X(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),tf(f.return,r,t),l||(g=null);break e}f=b.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var b=h.type;pn(h.pendingProps.value,g.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rr(t){xr=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Pp(xr,t)}function Mu(t,n){return xr===null&&Rr(t),Pp(t,n)}function Pp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ji===null){if(t===null)throw Error(a(308));ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ji=ji.next=n;return r}var uT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},cT=s.unstable_scheduleCallback,hT=s.unstable_NormalPriority,bt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new uT,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&cT(hT,function(){t.controller.abort()})}var Gl=null,rf=0,Ea=0,Ta=null;function fT(t,n){if(Gl===null){var r=Gl=[];rf=0,Ea=od(),Ta={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(zp,zp),n}function zp(){if(--rf===0&&Gl!==null){Ta!==null&&(Ta.status="fulfilled");var t=Gl;Gl=null,Ea=0,Ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Bp=F.S;F.S=function(t,n){Ay=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fT(t,n),Bp!==null&&Bp(t,n)};var Cr=M(null);function af(){var t=Cr.current;return t!==null?t:tt.pooledCache}function Vu(t,n){n===null?ie(Cr,Cr.current):ie(Cr,n.pool)}function qp(){var t=af();return t===null?null:{parent:bt._currentValue,pool:t}}var ba=Error(a(460)),lf=Error(a(474)),ku=Error(a(542)),ju={then:function(){}};function Hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qp(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qp(t),t}throw Ir=n,ba}}function Nr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ir=r,ba):r}}var Ir=null;function Fp(){if(Ir===null)throw Error(a(459));var t=Ir;return Ir=null,t}function Qp(t){if(t===ba||t===ku)throw Error(a(483))}var Sa=null,Fl=0;function Uu(t){var n=Fl;return Fl+=1,Sa===null&&(Sa=[]),Gp(Sa,t,n)}function Ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kp(t){function n(j,O){if(t){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function r(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Vi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,O,L,K){return O===null||O.tag!==6?(O=Yh(L,j.mode,K),O.return=j,O):(O=h(O,L),O.return=j,O)}function N(j,O,L,K){var de=L.type;return de===ee?Q(j,O,L.props.children,K,L.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===T&&Nr(de)===O.type)?(O=h(O,L.props),Ql(O,L),O.return=j,O):(O=Iu(L.type,L.key,L.props,null,j.mode,K),Ql(O,L),O.return=j,O)}function P(j,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Xh(L,j.mode,K),O.return=j,O):(O=h(O,L.children||[]),O.return=j,O)}function Q(j,O,L,K,de){return O===null||O.tag!==7?(O=Ar(L,j.mode,K,de),O.return=j,O):(O=h(O,L),O.return=j,O)}function Y(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return L=Iu(O.type,O.key,O.props,null,j.mode,L),Ql(L,O),L.return=j,L;case W:return O=Xh(O,j.mode,L),O.return=j,O;case T:return O=Nr(O),Y(j,O,L)}if($e(O)||k(O))return O=Ar(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return Y(j,Uu(O),L);if(O.$$typeof===J)return Y(j,Mu(j,O),L);Lu(j,O)}return null}function q(j,O,L,K){var de=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return de!==null?null:b(j,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===de?N(j,O,L,K):null;case W:return L.key===de?P(j,O,L,K):null;case T:return L=Nr(L),q(j,O,L,K)}if($e(L)||k(L))return de!==null?null:Q(j,O,L,K,null);if(typeof L.then=="function")return q(j,O,Uu(L),K);if(L.$$typeof===J)return q(j,O,Mu(j,L),K);Lu(j,L)}return null}function G(j,O,L,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(L)||null,b(O,j,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return j=j.get(K.key===null?L:K.key)||null,N(O,j,K,de);case W:return j=j.get(K.key===null?L:K.key)||null,P(O,j,K,de);case T:return K=Nr(K),G(j,O,L,K,de)}if($e(K)||k(K))return j=j.get(L)||null,Q(O,j,K,de,null);if(typeof K.then=="function")return G(j,O,L,Uu(K),de);if(K.$$typeof===J)return G(j,O,L,Mu(O,K),de);Lu(O,K)}return null}function oe(j,O,L,K){for(var de=null,ze=null,ce=O,Re=O=0,Oe=null;ce!==null&&Re<L.length;Re++){ce.index>Re?(Oe=ce,ce=null):Oe=ce.sibling;var Be=q(j,ce,L[Re],K);if(Be===null){ce===null&&(ce=Oe);break}t&&ce&&Be.alternate===null&&n(j,ce),O=f(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be,ce=Oe}if(Re===L.length)return r(j,ce),je&&ki(j,Re),de;if(ce===null){for(;Re<L.length;Re++)ce=Y(j,L[Re],K),ce!==null&&(O=f(ce,O,Re),ze===null?de=ce:ze.sibling=ce,ze=ce);return je&&ki(j,Re),de}for(ce=l(ce);Re<L.length;Re++)Oe=G(ce,j,Re,L[Re],K),Oe!==null&&(t&&Oe.alternate!==null&&ce.delete(Oe.key===null?Re:Oe.key),O=f(Oe,O,Re),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&ce.forEach(function(ks){return n(j,ks)}),je&&ki(j,Re),de}function ge(j,O,L,K){if(L==null)throw Error(a(151));for(var de=null,ze=null,ce=O,Re=O=0,Oe=null,Be=L.next();ce!==null&&!Be.done;Re++,Be=L.next()){ce.index>Re?(Oe=ce,ce=null):Oe=ce.sibling;var ks=q(j,ce,Be.value,K);if(ks===null){ce===null&&(ce=Oe);break}t&&ce&&ks.alternate===null&&n(j,ce),O=f(ks,O,Re),ze===null?de=ks:ze.sibling=ks,ze=ks,ce=Oe}if(Be.done)return r(j,ce),je&&ki(j,Re),de;if(ce===null){for(;!Be.done;Re++,Be=L.next())Be=Y(j,Be.value,K),Be!==null&&(O=f(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be);return je&&ki(j,Re),de}for(ce=l(ce);!Be.done;Re++,Be=L.next())Be=G(ce,j,Re,Be.value,K),Be!==null&&(t&&Be.alternate!==null&&ce.delete(Be.key===null?Re:Be.key),O=f(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&ce.forEach(function(Ab){return n(j,Ab)}),je&&ki(j,Re),de}function et(j,O,L,K){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var de=L.key;O!==null;){if(O.key===de){if(de=L.type,de===ee){if(O.tag===7){r(j,O.sibling),K=h(O,L.props.children),K.return=j,j=K;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===T&&Nr(de)===O.type){r(j,O.sibling),K=h(O,L.props),Ql(K,L),K.return=j,j=K;break e}r(j,O);break}else n(j,O);O=O.sibling}L.type===ee?(K=Ar(L.props.children,j.mode,K,L.key),K.return=j,j=K):(K=Iu(L.type,L.key,L.props,null,j.mode,K),Ql(K,L),K.return=j,j=K)}return g(j);case W:e:{for(de=L.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(j,O.sibling),K=h(O,L.children||[]),K.return=j,j=K;break e}else{r(j,O);break}else n(j,O);O=O.sibling}K=Xh(L,j.mode,K),K.return=j,j=K}return g(j);case T:return L=Nr(L),et(j,O,L,K)}if($e(L))return oe(j,O,L,K);if(k(L)){if(de=k(L),typeof de!="function")throw Error(a(150));return L=de.call(L),ge(j,O,L,K)}if(typeof L.then=="function")return et(j,O,Uu(L),K);if(L.$$typeof===J)return et(j,O,Mu(j,L),K);Lu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(j,O.sibling),K=h(O,L),K.return=j,j=K):(r(j,O),K=Yh(L,j.mode,K),K.return=j,j=K),g(j)):r(j,O)}return function(j,O,L,K){try{Fl=0;var de=et(j,O,L,K);return Sa=null,de}catch(ce){if(ce===ba||ce===ku)throw ce;var ze=gn(29,ce,null,j.mode);return ze.lanes=K,ze.return=j,ze}}}var Dr=Kp(!0),Yp=Kp(!1),_s=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Es(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(t),Dp(t,null,r),n}return Cu(t,l,n,r),Nu(t)}function Kl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,El(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function Yl(){if(hf){var t=Ta;if(t!==null)throw t}}function Xl(t,n,r,l){hf=!1;var h=t.updateQueue;_s=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,P=N.next;N.next=null,g===null?f=P:g.next=P,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==g&&(b===null?Q.firstBaseUpdate=P:b.next=P,Q.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;g=0,Q=P=N=null,b=f;do{var q=b.lane&-536870913,G=q!==b.lane;if(G?(De&q)===q:(l&q)===q){q!==0&&q===Ea&&(hf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var oe=t,ge=b;q=n;var et=r;switch(ge.tag){case 1:if(oe=ge.payload,typeof oe=="function"){Y=oe.call(et,Y,q);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ge.payload,q=typeof oe=="function"?oe.call(et,Y,q):oe,q==null)break e;Y=x({},Y,q);break e;case 2:_s=!0}}q=b.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(P=Q=G,N=Y):Q=Q.next=G,g|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),ws|=g,t.lanes=g,t.memoizedState=Y}}function Xp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Xp(r[t],n)}var Aa=M(null),Pu=M(0);function Jp(t,n){t=Qi,ie(Pu,t),ie(Aa,n),Qi=t|n.baseLanes}function ff(){ie(Pu,Qi),ie(Aa,Aa.current)}function df(){Qi=Pu.current,X(Aa),X(Pu)}var yn=M(null),Mn=null;function Ts(t){var n=t.alternate;ie(mt,mt.current&1),ie(yn,t),Mn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Mn=t)}function mf(t){ie(mt,mt.current),ie(yn,t),Mn===null&&(Mn=t)}function Zp(t){t.tag===22?(ie(mt,mt.current),ie(yn,t),Mn===null&&(Mn=t)):bs()}function bs(){ie(mt,mt.current),ie(yn,yn.current)}function _n(t){X(yn),Mn===t&&(Mn=null),X(mt)}var mt=M(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,we=null,Ze=null,St=null,Bu=!1,wa=!1,Or=!1,qu=0,$l=0,xa=null,mT=0;function ct(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!pn(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return Li=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?kg:Df,Or=!1,f=r(l,h),Or=!1,wa&&(f=eg(n,r,l,h)),Wp(t),f}function Wp(t){F.H=Wl;var n=Ze!==null&&Ze.next!==null;if(Li=0,St=Ze=we=null,Bu=!1,$l=0,xa=null,n)throw Error(a(300));t===null||At||(t=t.dependencies,t!==null&&Ou(t)&&(At=!0))}function eg(t,n,r,l){we=t;var h=0;do{if(wa&&(xa=null),$l=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=jg,f=n(r,l)}while(wa);return f}function pT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Jl(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(we.flags|=1024),n}function yf(){var t=qu!==0;return qu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}Li=0,St=Ze=we=null,wa=!1,$l=qu=0,xa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?we.memoizedState=St=t:St=St.next=t,St}function pt(){if(Ze===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=St===null?we.memoizedState:St.next;if(n!==null)St=n,Ze=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?we.memoizedState=St=t:St=St.next=t}return St}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(t){var n=$l;return $l+=1,xa===null&&(xa=[]),t=Gp(xa,t,n),n=we,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?kg:Df),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jl(t);if(t.$$typeof===J)return qt(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=we.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),we.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Pi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=pt();return Tf(n,Ze,t)}function Tf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=g=null,N=null,P=n,Q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(De&Y)===Y:(Li&Y)===Y){var q=P.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ea&&(Q=!0);else if((Li&q)===q){P=P.next,q===Ea&&(Q=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=Y,g=f):N=N.next=Y,we.lanes|=q,ws|=q;Y=P.action,Or&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else q={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(b=N=q,g=f):N=N.next=q,we.lanes|=Y,ws|=Y;P=P.next}while(P!==null&&P!==n);if(N===null?g=f:N.next=b,!pn(f,t.memoizedState)&&(At=!0,Q&&(r=Ta,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var n=pt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function tg(t,n,r){var l=we,h=pt(),f=je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!pn((Ze||h).memoizedState,r);if(g&&(h.memoizedState=r,At=!0),h=h.queue,wf(sg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,l,h,r,n),null),tt===null)throw Error(a(349));f||(Li&127)!==0||ng(l,n,r)}return r}function ng(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=we.updateQueue,n===null?(n=Hu(),we.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ig(t,n,r,l){n.value=r,n.getSnapshot=l,rg(n)&&ag(t)}function sg(t,n,r){return r(function(){rg(n)&&ag(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!pn(t,r)}catch{return!0}}function ag(t){var n=Sr(t,2);n!==null&&cn(n,t,2)}function Sf(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),Or){Sn(!0);try{r()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function lg(t,n,r,l){return t.baseState=r,Tf(t,Ze,typeof l=="function"?l:Pi)}function gT(t,n,r,l,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,og(n,f)):(f.next=r.next,n.pending=r.next=f)}}function og(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var b=r(h,l),N=F.S;N!==null&&N(g,b),ug(t,n,b)}catch(P){Af(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,l),ug(t,n,f)}catch(P){Af(t,n,P)}}function ug(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cg(t,n,l)},function(l){return Af(t,n,l)}):cg(t,n,r)}function cg(t,n,r){n.status="fulfilled",n.value=r,hg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,og(t,r)))}function Af(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(je){var r=tt.formState;if(r!==null){e:{var l=we;if(je){if(nt){t:{for(var h=nt,f=On;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Vn(h.nextSibling),l=h.data==="F!";break e}}gs(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=l,r=Og.bind(null,we,l),l.dispatch=r,l=Sf(!1),f=If.bind(null,we,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=gT.bind(null,we,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function mg(t){var n=pt();return pg(n,Ze,t)}function pg(t,n,r){if(n=Tf(t,n,fg)[0],t=Fu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Jl(n)}catch(g){throw g===ba?ku:g}else l=n;n=pt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(we.flags|=2048,Ra(9,{destroy:void 0},yT.bind(null,h,r),null)),[l,f,t]}function yT(t,n){t.action=n}function gg(t){var n=pt(),r=Ze;if(r!==null)return pg(n,r,t);pt(),n=n.memoizedState,r=pt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ra(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=we.updateQueue,n===null&&(n=Hu(),we.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function yg(){return pt().memoizedState}function Qu(t,n,r,l){var h=nn();we.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(t,n,r,l){var h=pt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&pf(l,Ze.memoizedState.deps)?h.memoizedState=Ra(n,f,r,l):(we.flags|=t,h.memoizedState=Ra(1|n,f,r,l))}function _g(t,n){Qu(8390656,8,t,n)}function wf(t,n){Ku(2048,8,t,n)}function _T(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=Hu(),we.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function vg(t){var n=pt().memoizedState;return _T({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return Ku(4,2,t,n)}function Tg(t,n){return Ku(4,4,t,n)}function bg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,r){r=r!=null?r.concat([t]):null,Ku(4,4,bg.bind(null,n,t),r)}function xf(){}function Ag(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function wg(t,n){var r=pt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),Or){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(Li&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=xy(),we.lanes|=t,ws|=t,r)}function xg(t,n,r,l){return pn(r,n)?r:Aa.current!==null?(t=Rf(t,r,l),pn(t,n)||(At=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(De&261930)===0?(At=!0,t.memoizedState=r):(t=xy(),we.lanes|=t,ws|=t,n)}function Rg(t,n,r,l,h){var f=z.p;z.p=f!==0&&8>f?f:8;var g=F.T,b={};F.T=b,If(t,!1,n,r);try{var N=h(),P=F.S;if(P!==null&&P(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=dT(N,l);Zl(t,n,Q,Tn(t))}else Zl(t,n,l,Tn(t))}catch(Y){Zl(t,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{z.p=f,g!==null&&b.types!==null&&(g.types=b.types),F.T=g}}function vT(){}function Cf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Cg(t).queue;Rg(t,h,n,se,r===null?vT:function(){return Ng(t),r(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:se},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=Cg(t);n.next===null&&(n=t.alternate.memoizedState),Zl(t,n.next.queue,{},Tn())}function Nf(){return qt(go)}function Ig(){return pt().memoizedState}function Dg(){return pt().memoizedState}function ET(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();t=vs(r);var l=Es(n,t,r);l!==null&&(cn(l,n,r),Kl(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function TT(t,n,r){var l=Tn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Mg(n,r):(r=Qh(t,n,r,l),r!==null&&(cn(r,t,l),Vg(r,n,l)))}function Og(t,n,r){var l=Tn();Zl(t,n,r,l)}function Zl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Mg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,r);if(h.hasEagerState=!0,h.eagerState=b,pn(b,g))return Cu(t,n,h,0),tt===null&&Ru(),!1}catch{}if(r=Qh(t,n,h,l),r!==null)return cn(r,t,l),Vg(r,n,l),!0}return!1}function If(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,l,2),n!==null&&cn(n,t,2)}function Yu(t){var n=t.alternate;return t===we||n!==null&&n===we}function Mg(t,n){wa=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Vg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,El(t,r)}}var Wl={readContext:qt,use:Gu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Wl.useEffectEvent=ct;var kg={readContext:qt,use:Gu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:qt,useEffect:_g,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,bg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(Or){Sn(!0);try{t()}finally{Sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(Or){Sn(!0);try{r(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TT.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=Og.bind(null,we,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=nn();return Rf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Rg.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=we,h=nn();if(je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),tt===null)throw Error(a(349));(De&127)!==0||ng(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,_g(sg.bind(null,l,f,t),[t]),l.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,l,f,r,n),null),r},useId:function(){var t=nn(),n=tt.identifierPrefix;if(je){var r=_i,l=yi;r=(l&~(1<<32-ft(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=mT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,we,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return nn().memoizedState=ET.bind(null,we)},useEffectEvent:function(t){var n=nn(),r={impl:t};return n.memoizedState=r,function(){if((Ge&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:qt,use:Gu,useCallback:Ag,useContext:qt,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Fu,useRef:yg,useState:function(){return Fu(Pi)},useDebugValue:xf,useDeferredValue:function(t,n){var r=pt();return xg(r,Ze.memoizedState,t,n)},useTransition:function(){var t=Fu(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Nf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=pt();return lg(r,Ze,t,n)},useMemoCache:Ef,useCacheRefresh:Dg};Df.useEffectEvent=vg;var jg={readContext:qt,use:Gu,useCallback:Ag,useContext:qt,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:bf,useRef:yg,useState:function(){return bf(Pi)},useDebugValue:xf,useDeferredValue:function(t,n){var r=pt();return Ze===null?Rf(r,t,n):xg(r,Ze.memoizedState,t,n)},useTransition:function(){var t=bf(Pi)[0],n=pt().memoizedState;return[typeof t=="boolean"?t:Jl(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Nf,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var r=pt();return Ze!==null?lg(r,Ze,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Dg};jg.useEffectEvent=vg;function Of(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=vs(l);h.payload=n,r!=null&&(h.callback=r),n=Es(t,h,l),n!==null&&(cn(n,t,l),Kl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=vs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(t,h,l),n!==null&&(cn(n,t,l),Kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Tn(),l=vs(r);l.tag=2,n!=null&&(l.callback=n),n=Es(t,l,r),n!==null&&(cn(n,t,r),Kl(n,t,r))}};function Ug(t,n,r,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Pl(r,l)||!Pl(h,f):!0}function Lg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Pg(t){xu(t)}function zg(t){console.error(t)}function Bg(t){xu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function Hg(t){return t=vs(t),t.tag=3,t}function Gg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){qg(n,r,l),typeof h!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function bT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&va(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?lc():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),lc(),!1}if(je)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),ql(Nn(t,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),ql(Nn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,r),h=Vf(t.stateNode,l,h),cf(t,h),ht!==4&&(ht=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,r),lo===null?lo=[f]:lo.push(f),ht!==4&&(ht=2),n===null)return!0;l=Nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Hg(h),Gg(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),At=!1;function Ht(t,n,r,l){n.child=t===null?Yp(n,null,r,l):Dr(n,t.child,r,l)}function Fg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var b in l)b!=="ref"&&(g[b]=l[b])}else g=l;return Rr(n),l=gf(t,n,r,g,f,h),b=yf(),t!==null&&!At?(_f(t,n,h),zi(t,n,h)):(je&&b&&$h(n),n.flags|=1,Ht(t,n,l,h),n.child)}function Qg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Kg(t,n,f,l,h)):(t=Iu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Pl,r(g,l)&&t.ref===n.ref)return zi(t,n,h)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Pl(f,l)&&t.ref===n.ref)if(At=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,zi(t,n,h)}return jf(t,n,r,l,h)}function Yg(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):ff(),Zp(n);else return l=n.lanes=536870912,Xg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),Jp(n,f),bs(),n.memoizedState=null):(t!==null&&Vu(n,null),ff(),bs());return Ht(t,n,h,r),n.child}function eo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(t,n,r,l,h){var f=af();return f=f===null?null:{parent:bt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),ff(),Zp(n),t!==null&&va(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,r){return Dr(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function ST(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,eo(null,t);if(mf(n),(t=nt)?(t=o0(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Mp(t),r.return=n,n.child=r,Bt=n,nt=null)):t=null,t===null)throw gs(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=$g(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(At||va(t,n,r,!1),h=(r&t.childLanes)!==0,At||h){if(l=tt,l!==null&&(g=Tl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Sr(t,g),cn(l,t,g),kf;lc(),n=$g(t,n,r)}else t=f.treeContext,nt=Vn(g.nextSibling),Bt=n,je=!0,ps=null,On=!1,t!==null&&jp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,l,h){return Rr(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!At?(_f(t,n,h),zi(t,n,h)):(je&&l&&$h(n),n.flags|=1,Ht(t,n,r,h),n.child)}function Jg(t,n,r,l,h,f){return Rr(n),n.updateQueue=null,r=eg(n,l,r,h),Wp(t),l=yf(),t!==null&&!At?(_f(t,n,f),zi(t,n,f)):(je&&l&&$h(n),n.flags|=1,Ht(t,n,r,f),n.child)}function Zg(t,n,r,l,h){if(Rr(n),n.stateNode===null){var f=pa,g=r.contextType;typeof g=="object"&&g!==null&&(f=qt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?qt(g):pa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Of(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Xl(n,l,f,h),Yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=Mr(r,b);f.props=N;var P=f.context,Q=r.contextType;g=pa,typeof Q=="object"&&Q!==null&&(g=qt(Q));var Y=r.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==g)&&Lg(n,f,l,g),_s=!1;var q=n.memoizedState;f.state=q,Xl(n,l,f,h),Yl(),P=n.memoizedState,b||q!==P||_s?(typeof Y=="function"&&(Of(n,r,Y,l),P=n.memoizedState),(N=_s||Ug(n,r,N,l,q,P,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),g=n.memoizedProps,Q=Mr(r,g),f.props=Q,Y=n.pendingProps,q=f.context,P=r.contextType,N=pa,typeof P=="object"&&P!==null&&(N=qt(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||q!==N)&&Lg(n,f,l,N),_s=!1,q=n.memoizedState,f.state=q,Xl(n,l,f,h),Yl();var G=n.memoizedState;g!==Y||q!==G||_s||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof b=="function"&&(Of(n,r,b,l),G=n.memoizedState),(Q=_s||Ug(n,r,Q,l,q,G,N)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Dr(n,t.child,null,h),n.child=Dr(n,null,r,h)):Ht(t,n,r,h),n.memoizedState=f.state,t=n.child):t=zi(t,n,h),t}function Wg(t,n,r,l){return wr(),n.flags|=256,Ht(t,n,r,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:qp()}}function Pf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=En),t}function ey(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(je){if(h?Ts(n):bs(),(t=nt)?(t=o0(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Mp(t),r.return=n,n.child=r,Bt=n,nt=null)):t=null,t===null)throw gs(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(bs(),h=n.mode,b=Zu({mode:"hidden",children:b},h),l=Ar(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Lf(r),l.childLanes=Pf(t,g,r),n.memoizedState=Uf,eo(null,l)):(Ts(n),zf(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),b=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),b=Ar(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Dr(n,t.child,null,r),l=n.child,l.memoizedState=Lf(r),l.childLanes=Pf(t,g,r),n.memoizedState=Uf,n=eo(null,l));else if(Ts(n),Td(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,ql({value:l,source:null,stack:null}),n=Bf(t,n,r)}else if(At||va(t,n,r,!1),g=(r&t.childLanes)!==0,At||g){if(g=tt,g!==null&&(l=Tl(g,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Sr(t,l),cn(g,t,l),kf;Ed(b)||lc(),n=Bf(t,n,r)}else Ed(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,nt=Vn(b.nextSibling),Bt=n,je=!0,ps=null,On=!1,t!==null&&jp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(bs(),b=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Vi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?b=Vi(P,b):(b=Ar(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,eo(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Lf(r):(h=b.cachePool,h!==null?(N=bt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=qp(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Pf(t,g,r),n.memoizedState=Uf,eo(t.child,l)):(Ts(n),r=t.child,t=r.sibling,r=Vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return Dr(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function qf(t,n,r,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ny(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=mt.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,ie(mt,g),Ht(t,n,l,r),l=je?Bl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,r,n);else if(t.tag===19)ty(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}qf(n,!0,r,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(va(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function AT(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),ys(n,bt,t.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ey(t,n,r):(Ts(n),t=zi(t,n,r),t!==null?t.sibling:null);Ts(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(va(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ny(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),l)break;return null;case 22:return n.lanes=0,Yg(t,n,r,n.pendingProps);case 24:ys(n,bt,t.memoizedState.cache)}return zi(t,n,r)}function iy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Hf(t,r)&&(n.flags&128)===0)return At=!1,AT(t,n,r);At=(t.flags&131072)!==0}else At=!1,je&&(n.flags&1048576)!==0&&kp(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Nr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=Mr(t,l),n.tag=1,n=Zg(null,n,t,l,r)):(n.tag=0,n=jf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===le){n.tag=11,n=Fg(null,n,t,l,r);break e}else if(h===C){n.tag=14,n=Qg(null,n,t,l,r);break e}}throw n=Qe(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Mr(l,n.pendingProps),Zg(t,n,l,h,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Xl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,ys(n,bt,l),l!==f.cache&&nf(n,[bt],r,!0),Yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(t,n,l,r);break e}else if(l!==h){h=Nn(Error(a(424)),n),ql(h),n=Wg(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=Vn(t.firstChild),Bt=n,je=!0,ps=null,On=!0,r=Yp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wr(),l===h){n=zi(t,n,r);break e}Ht(t,n,l,r)}n=n.child}return n;case 26:return Ju(t,n),t===null?(r=m0(n.type,null,n.pendingProps,null))?n.memoizedState=r:je||(r=n.type,t=n.pendingProps,l=mc(xe.current).createElement(r),l[vt]=n,l[kt]=t,Gt(l,r,t),Et(l),n.stateNode=l):n.memoizedState=m0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rr(n),t===null&&je&&(l=n.stateNode=h0(n.type,n.pendingProps,xe.current),Bt=n,On=!0,h=nt,Is(n.type)?(bd=h,nt=Vn(l.firstChild)):nt=h),Ht(t,n,n.pendingProps.children,r),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&je&&((h=l=nt)&&(l=eb(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Bt=n,nt=Vn(l.firstChild),On=!1,h=!0):h=!1),h||gs(n)),rr(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,pT,null,null,r),go._currentValue=h),Ju(t,n),Ht(t,n,l,r),n.child;case 6:return t===null&&je&&((t=r=nt)&&(r=tb(r,n.pendingProps,On),r!==null?(n.stateNode=r,Bt=n,nt=null,t=!0):t=!1),t||gs(n)),null;case 13:return ey(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Dr(n,null,l,r):Ht(t,n,l,r),n.child;case 11:return Fg(t,n,n.type,n.pendingProps,r);case 7:return Ht(t,n,n.pendingProps,r),n.child;case 8:return Ht(t,n,n.pendingProps.children,r),n.child;case 12:return Ht(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ys(n,n.type,l.value),Ht(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=qt(h),l=l(h),n.flags|=1,Ht(t,n,l,r),n.child;case 14:return Qg(t,n,n.type,n.pendingProps,r);case 15:return Kg(t,n,n.type,n.pendingProps,r);case 19:return ny(t,n,r);case 31:return ST(t,n,r);case 22:return Yg(t,n,r,n.pendingProps);case 24:return Rr(n),l=qt(bt),t===null?(h=af(),h===null&&(h=tt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),ys(n,bt,h)):((t.lanes&r)!==0&&(uf(t,n),Xl(n,null,null,r),Yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,bt,l)):(l=f.cache,ys(n,bt,l),l!==h.cache&&nf(n,[bt],r,!0))),Ht(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(t){t.flags|=4}function Gf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Iy())t.flags|=8192;else throw Ir=ju,lf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(n))if(Iy())t.flags|=8192;else throw Ir=ju,lf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Da|=n)}function to(t,n){if(!je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function wT(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(bt),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_a(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(it(n),sy(n,f)):(it(n),Gf(n,h,null,l,r))):f?f!==t.memoizedState?(Bi(n),it(n),sy(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Bi(n),it(n),Gf(n,h,t,l,r)),null;case 27:if($r(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}t=ae.current,_a(n)?Up(n):(t=h0(h,l,r),n.stateNode=t,Bi(n))}return it(n),null;case 5:if($r(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return it(n),null}if(f=ae.current,_a(n))Up(n);else{var g=mc(xe.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[vt]=n,f[kt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bi(n)}}return it(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,_a(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||e0(t.nodeValue,r)),t||gs(n,!0)}else t=mc(t).createTextNode(l),t[vt]=n,n.stateNode=t}return it(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=_a(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[vt]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return it(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[vt]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),it(n),null);case 4:return at(),t===null&&fd(n.stateNode.containerInfo),it(n),null;case 10:return Ui(n.type),it(n),null;case 19:if(X(mt),l=n.memoizedState,l===null)return it(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)to(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,to(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Op(r,t),r=r.sibling;return ie(mt,mt.current&1|2),je&&ki(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>sc&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return it(n),null}else 2*en()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,r=mt.current,ie(mt,h?r&1|2:r&1),je&&ki(n,l.treeForkCount),t):(it(n),null);case 22:case 23:return _n(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&X(Cr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(bt),it(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function xT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ui(bt),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(mt),null;case 4:return at(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),df(),t!==null&&X(Cr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ui(bt),null;case 25:return null;default:return null}}function ry(t,n){switch(Jh(n),n.tag){case 3:Ui(bt),at();break;case 26:case 27:case 5:$r(n);break;case 4:at();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(mt);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),df(),t!==null&&X(Cr);break;case 24:Ui(bt)}}function no(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(b){Xe(n,n.return,b)}}function Ss(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,h=n;var N=r,P=b;try{P()}catch(Q){Xe(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xe(n,n.return,Q)}}function ay(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$p(n,r)}catch(l){Xe(t,t.return,l)}}}function ly(t,n,r){r.props=Mr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,n,l)}}function io(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Xe(t,n,h)}}function vi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(t,n,h)}else r.current=null}function oy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xe(t,t.return,h)}}function Ff(t,n,r){try{var l=t.stateNode;YT(l,t.type,r,n),l[kt]=n}catch(h){Xe(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Is(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Is(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function cy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,r),n[vt]=t,n[kt]=r}catch(f){Xe(t,t.return,f)}}var qi=!1,wt=!1,Yf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function RT(t,n){if(t=t.containerInfo,pd=Tc,t=Sp(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,b=-1,N=-1,P=0,Q=0,Y=t,q=null;t:for(;;){for(var G;Y!==r||h!==0&&Y.nodeType!==3||(b=g+h),Y!==f||l!==0&&Y.nodeType!==3||(N=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(G=Y.firstChild)!==null;)q=Y,Y=G;for(;;){if(Y===t)break t;if(q===r&&++P===h&&(b=g),q===f&&++Q===l&&(N=g),(G=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=G}r=b===-1||N===-1?null:{start:b,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},Tc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var oe=Mr(r.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(r,r.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function fy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(t,r),l&4&&no(5,r);break;case 1:if(Gi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Xe(r,r.return,g)}else{var h=Mr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xe(r,r.return,g)}}l&64&&ay(r),l&512&&io(r,r.return);break;case 3:if(Gi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$p(t,n)}catch(g){Xe(r,r.return,g)}}break;case 27:n===null&&l&4&&cy(r);case 26:case 5:Gi(t,r),n===null&&l&4&&oy(r),l&512&&io(r,r.return);break;case 12:Gi(t,r);break;case 31:Gi(t,r),l&4&&py(t,r);break;case 13:Gi(t,r),l&4&&gy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=jT.bind(null,r),nb(t,r))));break;case 22:if(l=r.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||wt,h=qi;var f=wt;qi=l,(wt=n)&&!f?Fi(t,r,(r.subtreeFlags&8772)!==0):Gi(t,r),qi=h,wt=f}break;case 30:break;default:Gi(t,r)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Hi(t,n,r){for(r=r.child;r!==null;)my(t,n,r),r=r.sibling}function my(t,n,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Un,r)}catch{}switch(r.tag){case 26:wt||vi(r,n),Hi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||vi(r,n);var l=ot,h=an;Is(r.type)&&(ot=r.stateNode,an=!1),Hi(t,n,r),fo(r.stateNode),ot=l,an=h;break;case 5:wt||vi(r,n);case 6:if(l=ot,h=an,ot=null,Hi(t,n,r),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(f){Xe(r,n,f)}else try{ot.removeChild(r.stateNode)}catch(f){Xe(r,n,f)}break;case 18:ot!==null&&(an?(t=ot,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pa(t)):a0(ot,r.stateNode));break;case 4:l=ot,h=an,ot=r.stateNode.containerInfo,an=!0,Hi(t,n,r),ot=l,an=h;break;case 0:case 11:case 14:case 15:Ss(2,r,n),wt||Ss(4,r,n),Hi(t,n,r);break;case 1:wt||(vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ly(r,n,l)),Hi(t,n,r);break;case 21:Hi(t,n,r);break;case 22:wt=(l=wt)||r.memoizedState!==null,Hi(t,n,r),wt=l;break;default:Hi(t,n,r)}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pa(t)}catch(r){Xe(n,n.return,r)}}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pa(t)}catch(r){Xe(n,n.return,r)}}function CT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=CT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=UT.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,g=n,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Is(b.type)){ot=b.stateNode,an=!1;break e}break;case 5:ot=b.stateNode,an=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(ot===null)throw Error(a(160));my(f,g,h),ot=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var Kn=null;function yy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ss(3,t,t.return),no(3,t),Ss(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(wt||r===null||vi(r,r.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if(ln(n,t),on(t),l&512&&(wt||r===null||vi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[vt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,r),f[vt]=t,Et(f),l=f;break e;case"link":var g=y0("link","href",h).get(l+(r.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;case"meta":if(g=y0("meta","content",h).get(l+(r.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[vt]=t,Et(f),l=f}t.stateNode=l}else _0(h,t.type,t.stateNode);else t.stateNode=g0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?_0(h,t.type,t.stateNode):g0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(wt||r===null||vi(r,r.return)),r!==null&&l&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(wt||r===null||vi(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(oe){Xe(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){Xe(t,t.return,oe)}}break;case 3:if(yc=null,h=Kn,Kn=pc(n.containerInfo),ln(n,t),Kn=h,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(oe){Xe(t,t.return,oe)}Yf&&(Yf=!1,_y(t));break;case 4:l=Kn,Kn=pc(t.stateNode.containerInfo),ln(n,t),on(t),Kn=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,P=qi,Q=wt;if(qi=P||h,wt=Q||N,ln(n,t),wt=Q,qi=P,on(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||qi||wt||Vr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=N.stateNode;var Y=N.memoizedProps.style,q=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){Xe(N,N.return,oe)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){Xe(N,N.return,oe)}}}else if(n.tag===18){if(r===null){N=n;try{var G=N.stateNode;h?l0(G,!0):l0(N.stateNode,!1)}catch(oe){Xe(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(uy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);ec(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var b=Qf(t);ec(t,b,g);break;case 3:case 4:var N=r.stateNode.containerInfo,P=Qf(t);Kf(t,P,N);break;default:throw Error(a(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function Vr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Vr(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ly(n,n.return,r),Vr(n);break;case 27:fo(n.stateNode);case 26:case 5:vi(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}t=t.sibling}}function Fi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),no(4,f);break;case 1:if(Fi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xp(N[h],b)}catch(P){Xe(l,l.return,P)}}r&&g&64&&ay(f),io(f,f.return);break;case 27:cy(f);case 26:case 5:Fi(h,f,r),r&&l===null&&g&4&&oy(f),io(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&py(h,f);break;case 13:Fi(h,f,r),r&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),io(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Hl(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t))}function Yn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,r,l),n=n.sibling}function vy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,r,l),h&2048&&no(9,n);break;case 1:Yn(t,n,r,l);break;case 3:Yn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t)));break;case 12:if(h&2048){Yn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(n,n.return,N)}}else Yn(t,n,r,l);break;case 31:Yn(t,n,r,l);break;case 13:Yn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,r,l):so(t,n):f._visibility&2?Yn(t,n,r,l):(f._visibility|=2,Ca(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Yn(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:Yn(t,n,r,l)}}function Ca(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,b=r,N=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,b,N,h),no(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ca(f,g,b,N,h):so(f,g):(Q._visibility|=2,Ca(f,g,b,N,h)),h&&P&2048&&Xf(g.alternate,g);break;case 24:Ca(f,g,b,N,h),h&&P&2048&&$f(g.alternate,g);break;default:Ca(f,g,b,N,h)}n=n.sibling}}function so(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:so(r,l),h&2048&&Xf(l.alternate,l);break;case 24:so(r,l),h&2048&&$f(l.alternate,l);break;default:so(r,l)}n=n.sibling}}var ro=8192;function Na(t,n,r){if(t.subtreeFlags&ro)for(t=t.child;t!==null;)Ey(t,n,r),t=t.sibling}function Ey(t,n,r){switch(t.tag){case 26:Na(t,n,r),t.flags&ro&&t.memoizedState!==null&&mb(r,Kn,t.memoizedState,t.memoizedProps);break;case 5:Na(t,n,r);break;case 3:case 4:var l=Kn;Kn=pc(t.stateNode.containerInfo),Na(t,n,r),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ro,ro=16777216,Na(t,n,r),ro=l):Na(t,n,r));break;default:Na(t,n,r)}}function Ty(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Sy(l,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:ao(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:ao(t);break;case 12:ao(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ao(t);break;default:ao(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Sy(l,t)}Ty(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Sy(t,n){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ss(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(dy(l),l===r){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var NT={getCacheForType:function(t){var n=qt(bt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return qt(bt).controller.signal}},IT=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,De=0,Ye=0,vn=null,As=!1,Ia=!1,Jf=!1,Qi=0,ht=0,ws=0,kr=0,Zf=0,En=0,Da=0,lo=null,un=null,Wf=!1,ic=0,Ay=0,sc=1/0,rc=null,xs=null,Dt=0,Rs=null,Oa=null,Ki=0,ed=0,td=null,wy=null,oo=0,nd=null;function Tn(){return(Ge&2)!==0&&De!==0?De&-De:F.T!==null?od():au()}function xy(){if(En===0)if((De&536870912)===0||je){var t=or;or<<=1,(or&3932160)===0&&(or=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,n,r){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Cs(t,De,En,!1)),ur(t,r),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(kr|=r),ht===4&&Cs(t,De,En,!1)),Ei(t))}function Ry(t,n,r){if((Ge&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),h=l?MT(t,n):sd(t,n,!0),f=l;do{if(h===0){Ia&&!l&&Cs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!DT(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var b=t;h=lo;var N=b.current.memoizedState.isDehydrated;if(N&&(Ma(b,g).flags|=256),g=sd(b,g,!1),g!==2){if(Jf&&!N){b.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(t,0),Cs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(l,n,En,!As);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(Cs(l,n,En,!As),ni(l,0,!0)!==0)break e;Ki=n,l.timeoutHandle=s0(Cy.bind(null,l,r,un,rc,Wf,n,En,kr,Da,As,f,"Throttled",-0,0),h);break e}Cy(l,r,un,rc,Wf,n,En,kr,Da,As,f,null,-0,0)}}break}while(!0);Ei(t)}function Cy(t,n,r,l,h,f,g,b,N,P,Q,Y,q,G){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Ey(n,f,Y);var oe=(f&62914560)===f?ic-en():(f&4194048)===f?Ay-en():0;if(oe=pb(Y,oe),oe!==null){Ki=f,t.cancelPendingCommit=oe(jy.bind(null,t,n,f,r,l,h,g,b,N,Q,Y,null,q,G)),Cs(t,f,g,!P);return}}jy(t,n,f,r,l,h,g,b,N)}function DT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(t,n,r,l){n&=~Zf,n&=~kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&cr(t,r,n)}function ac(){return(Ge&6)===0?(uo(0),!1):!0}function id(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,ji=xr=null,vf(t),Sa=null,Fl=0,t=Ne;for(;t!==null;)ry(t.alternate,t),t=t.return;Ne=null}}function Ma(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,JT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ki=0,id(),tt=t,Ne=r=Vi(t.current,null),De=n,Ye=0,vn=null,As=!1,Ia=Ln(t,n),Jf=!1,Da=En=Zf=kr=ws=ht=0,un=lo=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-ft(l),f=1<<h;n|=t[h],l&=~f}return Qi=n,Ru(),r}function Ny(t,n){we=null,F.H=Wl,n===ba||n===ku?(n=Fp(),Ye=3):n===lf?(n=Fp(),Ye=4):Ye=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ne===null&&(ht=1,Xu(t,Nn(n,t.current)))}function Iy(){var t=yn.current;return t===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||(De&536870912)!==0?t===Mn:!1}function Dy(){var t=F.H;return F.H=Wl,t===null?Wl:t}function Oy(){var t=F.A;return F.A=NT,t}function lc(){ht=4,As||(De&4194048)!==De&&yn.current!==null||(Ia=!0),(ws&134217727)===0&&(kr&134217727)===0||tt===null||Cs(tt,De,En,!1)}function sd(t,n,r){var l=Ge;Ge|=2;var h=Dy(),f=Oy();(tt!==t||De!==n)&&(rc=null,Ma(t,n)),n=!1;var g=ht;e:do try{if(Ye!==0&&Ne!==null){var b=Ne,N=vn;switch(Ye){case 8:id(),g=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Ye;if(Ye=0,vn=null,Va(t,b,N,P),r&&Ia){g=0;break e}break;default:P=Ye,Ye=0,vn=null,Va(t,b,N,P)}}OT(),g=ht;break}catch(Q){Ny(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ji=xr=null,Ge=l,F.H=h,F.A=f,Ne===null&&(tt=null,De=0,Ru()),g}function OT(){for(;Ne!==null;)My(Ne)}function MT(t,n){var r=Ge;Ge|=2;var l=Dy(),h=Oy();tt!==t||De!==n?(rc=null,sc=en()+500,Ma(t,n)):Ia=Ln(t,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var f=vn;t:switch(Ye){case 1:Ye=0,vn=null,Va(t,n,f,1);break;case 2:case 9:if(Hp(f)){Ye=0,vn=null,Vy(n);break}n=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Ei(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Hp(f)?(Ye=0,vn=null,Vy(n)):(Ye=0,vn=null,Va(t,n,f,7));break;case 5:var g=null;switch(Ne.tag){case 26:g=Ne.memoizedState;case 5:case 27:var b=Ne;if(g?v0(g):b.stateNode.complete){Ye=0,vn=null;var N=b.sibling;if(N!==null)Ne=N;else{var P=b.return;P!==null?(Ne=P,oc(P)):Ne=null}break t}}Ye=0,vn=null,Va(t,n,f,5);break;case 6:Ye=0,vn=null,Va(t,n,f,6);break;case 8:id(),ht=6;break e;default:throw Error(a(462))}}VT();break}catch(Q){Ny(t,Q)}while(!0);return ji=xr=null,F.H=l,F.A=h,Ge=r,Ne!==null?0:(tt=null,De=0,Ru(),ht)}function VT(){for(;Ne!==null&&!Mh();)My(Ne)}function My(t){var n=iy(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?oc(t):Ne=n}function Vy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Jg(r,n,n.pendingProps,n.type,void 0,De);break;case 11:n=Jg(r,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:vf(n);default:ry(r,n),n=Ne=Op(n,Qi),n=iy(r,n,Qi)}t.memoizedProps=t.pendingProps,n===null?oc(t):Ne=n}function Va(t,n,r,l){ji=xr=null,vf(n),Sa=null,Fl=0;var h=n.return;try{if(bT(t,h,n,r,De)){ht=1,Xu(t,Nn(r,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ht=1,Xu(t,Nn(r,t.current)),Ne=null;return}n.flags&32768?(je||l===1?t=!0:Ia||(De&536870912)!==0?t=!1:(As=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,As);return}t=n.return;var r=wT(n.alternate,n,Qi);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ht===0&&(ht=5)}function ky(t,n){do{var r=xT(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);ht=6,Ne=null}function jy(t,n,r,l,h,f,g,b,N){t.cancelPendingCommit=null;do uc();while(Dt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,jh(t,r,f,g,b,N),t===tt&&(Ne=tt=null,De=0),Oa=n,Rs=t,Ki=r,ed=f,td=h,wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LT(ss,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=z.p,z.p=2,g=Ge,Ge|=4;try{RT(t,n,r)}finally{Ge=g,z.p=h,F.T=l}}Dt=1,Uy(),Ly(),Py()}}function Uy(){if(Dt===1){Dt=0;var t=Rs,n=Oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=z.p;z.p=2;var h=Ge;Ge|=4;try{yy(n,t);var f=gd,g=Sp(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&bp(b.ownerDocument.documentElement,b)){if(N!==null&&zh(b)){var P=N.start,Q=N.end;if(Q===void 0&&(Q=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(Q,b.value.length);else{var Y=b.ownerDocument||document,q=Y&&Y.defaultView||window;if(q.getSelection){var G=q.getSelection(),oe=b.textContent.length,ge=Math.min(N.start,oe),et=N.end===void 0?ge:Math.min(N.end,oe);!G.extend&&ge>et&&(g=et,et=ge,ge=g);var j=Tp(b,ge),O=Tp(b,et);if(j&&O&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(j.node,j.offset),G.removeAllRanges(),ge>et?(G.addRange(L),G.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),G.addRange(L))}}}}for(Y=[],G=b;G=G.parentNode;)G.nodeType===1&&Y.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var K=Y[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!pd,gd=pd=null}finally{Ge=h,z.p=l,F.T=r}}t.current=n,Dt=2}}function Ly(){if(Dt===2){Dt=0;var t=Rs,n=Oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=z.p;z.p=2;var h=Ge;Ge|=4;try{fy(t,n.alternate,n)}finally{Ge=h,z.p=l,F.T=r}}Dt=3}}function Py(){if(Dt===4||Dt===3){Dt=0,Wo();var t=Rs,n=Oa,r=Ki,l=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,Oa=Rs=null,zy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xs=null),Ii(r),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=z.p,z.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var b=l[g];f(b.value,{componentStack:b.stack})}}finally{F.T=n,z.p=h}}(Ki&3)!==0&&uc(),Ei(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?oo++:(oo=0,nd=t):oo=0,uo(0)}}function zy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Hl(n)))}function uc(){return Uy(),Ly(),Py(),By()}function By(){if(Dt!==5)return!1;var t=Rs,n=ed;ed=0;var r=Ii(Ki),l=F.T,h=z.p;try{z.p=32>r?32:r,F.T=null,r=td,td=null;var f=Rs,g=Ki;if(Dt=0,Oa=Rs=null,Ki=0,(Ge&6)!==0)throw Error(a(331));var b=Ge;if(Ge|=4,by(f.current),vy(f,f.current,g,r),Ge=b,uo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{z.p=h,F.T=l,zy(t,n)}}function qy(t,n,r){n=Nn(r,n),n=Vf(t.stateNode,n,2),t=Es(t,n,2),t!==null&&(ur(t,2),Ei(t))}function Xe(t,n,r){if(t.tag===3)qy(t,t,r);else for(;n!==null;){if(n.tag===3){qy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xs===null||!xs.has(l))){t=Nn(r,t),r=Hg(2),l=Es(n,r,2),l!==null&&(Gg(r,l,n,t),ur(l,2),Ei(l));break}}n=n.return}}function rd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new IT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=kT.bind(null,t,n,r),n.then(t,t))}function kT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(De&r)===r&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-ic?(Ge&2)===0&&Ma(t,0):Zf|=r,Da===De&&(Da=0)),Ei(t)}function Hy(t,n){n===0&&(n=ru()),t=Sr(t,n),t!==null&&(ur(t,n),Ei(t))}function jT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Hy(t,r)}function UT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(t,r)}function LT(t,n){return It(t,n)}var cc=null,ka=null,ad=!1,hc=!1,ld=!1,Ns=0;function Ei(t){t!==ka&&t.next===null&&(ka===null?cc=ka=t:ka=ka.next=t),hc=!0,ad||(ad=!0,zT())}function uo(t,n){if(!ld&&hc){ld=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ky(l,f))}else f=De,f=ni(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(r=!0,Ky(l,f));l=l.next}while(r);ld=!1}}function PT(){Gy()}function Gy(){hc=ad=!1;var t=0;Ns!==0&&$T()&&(t=Ns);for(var n=en(),r=null,l=cc;l!==null;){var h=l.next,f=Fy(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(ka=r)):(r=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Dt!==0&&Dt!==5||uo(t),Ns!==0&&(Ns=0)}function Fy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ft(f),b=1<<g,N=h[g];N===-1?((b&r)===0||(b&l)!==0)&&(h[g]=kh(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=tt,r=De,r=ni(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ln(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&is(l),Ii(r)){case 2:case 8:r=vl;break;case 32:r=ss;break;case 268435456:r=eu;break;default:r=ss}return l=Qy.bind(null,t),r=It(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&is(l),t.callbackPriority=2,t.callbackNode=null,2}function Qy(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=De;return l=ni(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ry(t,l,n),Fy(t,en()),t.callbackNode!=null&&t.callbackNode===r?Qy.bind(null,t):null)}function Ky(t,n){if(uc())return null;Ry(t,n,!0)}function zT(){ZT(function(){(Ge&6)!==0?It(_l,PT):Gy()})}function od(){if(Ns===0){var t=Ea;t===0&&(t=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ns=t}return Ns}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function Xy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function BT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Yy((h[kt]||null).action),g=l.submitter;g&&(n=(n=g[kt]||null)?Yy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new di("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var N=g?Xy(h,g):new FormData(h);Cf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=g?Xy(h,g):new FormData(h),Cf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],qT=cd.toLowerCase(),HT=cd[0].toUpperCase()+cd.slice(1);Qn(qT,"on"+HT)}Qn(xp,"onAnimationEnd"),Qn(Rp,"onAnimationIteration"),Qn(Cp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(rT,"onTransitionRun"),Qn(aT,"onTransitionStart"),Qn(lT,"onTransitionCancel"),Qn(Np,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function $y(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var b=l[g],N=b.instance,P=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(b=l[g],N=b.instance,P=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=N}}}}function Ie(t,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var l=t+"__bubble";r.has(l)||(Jy(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),Jy(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[fc]){t[fc]=!0,bl.forEach(function(r){r!=="selectionchange"&&(GT.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,hd("selectionchange",!1,n))}}function Jy(t,n,r,l){switch(x0(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var b=l.stateNode.containerInfo;if(b===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;b!==null;){if(g=ai(b),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}b=b.parentNode}}l=l.return}cs(function(){var P=f,Q=wn(r),Y=[];e:{var q=Ip.get(t);if(q!==void 0){var G=di,oe=t;switch(t){case"keypress":if(yr(r)===0)break e;case"keydown":case"keyup":G=Su;break;case"focusin":oe="focus",G=vr;break;case"focusout":oe="blur",G=vr;break;case"beforeblur":case"afterblur":G=vr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case xp:case Rp:case Cp:G=gu;break;case Np:G=S;break;case"scroll":case"scrollend":G=Vl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Mi;break;case"toggle":case"beforetoggle":G=Ae}var ge=(n&4)!==0,et=!ge&&(t==="scroll"||t==="scrollend"),j=ge?q!==null?q+"Capture":null:q;ge=[];for(var O=P,L;O!==null;){var K=O;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||j===null||(K=qn(O,j),K!=null&&ge.push(ho(O,K,L))),et)break;O=O.return}0<ge.length&&(q=new G(q,oe,null,r,Q),Y.push({event:q,listeners:ge}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&r!==Dl&&(oe=r.relatedTarget||r.fromElement)&&(ai(oe)||oe[si]))break e;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(oe=r.relatedTarget||r.toElement,G=P,oe=oe?ai(oe):null,oe!==null&&(et=c(oe),ge=oe.tag,oe!==et||ge!==5&&ge!==27&&ge!==6)&&(oe=null)):(G=null,oe=P),G!==oe)){if(ge=kl,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Mi,K="onPointerLeave",j="onPointerEnter",O="pointer"),et=G==null?q:dn(G),L=oe==null?q:dn(oe),q=new ge(K,O+"leave",G,r,Q),q.target=et,q.relatedTarget=L,K=null,ai(Q)===P&&(ge=new ge(j,O+"enter",oe,r,Q),ge.target=L,ge.relatedTarget=et,K=ge),et=K,G&&oe)t:{for(ge=FT,j=G,O=oe,L=0,K=j;K;K=ge(K))L++;K=0;for(var de=O;de;de=ge(de))K++;for(;0<L-K;)j=ge(j),L--;for(;0<K-L;)O=ge(O),K--;for(;L--;){if(j===O||O!==null&&j===O.alternate){ge=j;break t}j=ge(j),O=ge(O)}ge=null}else ge=null;G!==null&&Zy(Y,q,G,ge,!1),oe!==null&&et!==null&&Zy(Y,et,oe,ge,!0)}}e:{if(q=P?dn(P):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ze=pp;else if(dp(q))if(gp)ze=nT;else{ze=eT;var ce=W1}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&sa(P.elementType)&&(ze=pp):ze=tT;if(ze&&(ze=ze(t,P))){mp(Y,ze,r,Q);break e}ce&&ce(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Cl(q,"number",q.value)}switch(ce=P?dn(P):window,t){case"focusin":(dp(ce)||ce.contentEditable==="true")&&(fa=ce,Bh=P,zl=null);break;case"focusout":zl=Bh=fa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ap(Y,r,Q);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Ap(Y,r,Q)}var Re;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ha?Er(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(gi&&r.locale!=="ko"&&(ha||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ha&&(Re=Ml()):(fi=Q,Ol="value"in fi?fi.value:fi.textContent,ha=!0)),ce=dc(P,Oe),0<ce.length&&(Oe=new pi(Oe,t,null,r,Q),Y.push({event:Oe,listeners:ce}),Re?Oe.data=Re:(Re=ca(r),Re!==null&&(Oe.data=Re)))),(Re=Rn?X1(t,r):$1(t,r))&&(Oe=dc(P,"onBeforeInput"),0<Oe.length&&(ce=new pi("onBeforeInput","beforeinput",null,r,Q),Y.push({event:ce,listeners:Oe}),ce.data=Re)),BT(Y,t,P,r,Q)}$y(Y,n)})}function ho(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,r),h!=null&&l.unshift(ho(t,h,f)),h=qn(t,n),h!=null&&l.push(ho(t,h,f))),t.tag===3)return l;t=t.return}return[]}function FT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var b=r,N=b.alternate,P=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||P===null||(N=P,h?(P=qn(r,f),P!=null&&g.unshift(ho(r,P,N))):h||(P=qn(r,f),P!=null&&g.push(ho(r,P,N)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var QT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(QT,`
`).replace(KT,"")}function e0(t,n){return n=Wy(n),Wy(t)===n}function We(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,r,l);break;case"style":Il(t,l,f);break;case"data":if(n!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ra(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ra(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),na(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,na(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":Il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):na(t,r,l)}}}function Gt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,f,g,r,null)}}h&&We(t,n,"srcSet",r.srcSet,r,null),l&&We(t,n,"src",r.src,r,null);return;case"input":Ie("invalid",t);var b=f=g=h=null,N=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:We(t,n,l,Q,r,null)}}cu(t,f,b,N,P,g,h,!1);return;case"select":Ie("invalid",t),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":l=b;default:We(t,n,h,b,r,null)}n=f,r=g,t.multiple=!!l,n!=null?as(t,!!l,n,!1):r!=null&&as(t,!!l,r,!0);return;case"textarea":Ie("invalid",t),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(b=r[g],b!=null))switch(g){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:We(t,n,g,b,r,null)}ls(t,l,h,f);return;case"option":for(N in r)r.hasOwnProperty(N)&&(l=r[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,n,N,l,r,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<co.length;l++)Ie(co[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,P,l,r,null)}return;default:if(sa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&md(t,n,Q,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&We(t,n,b,l,r,null))}function YT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,b=null,N=null,P=null,Q=null;for(G in r){var Y=r[G];if(r.hasOwnProperty(G)&&Y!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=Y;default:l.hasOwnProperty(G)||We(t,n,G,null,l,Y)}}for(var q in l){var G=l[q];if(Y=r[q],l.hasOwnProperty(q)&&(G!=null||Y!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":P=G;break;case"defaultChecked":Q=G;break;case"value":g=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==Y&&We(t,n,q,G,l,Y)}}ia(t,g,b,N,P,Q,f,h);return;case"select":G=g=b=q=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(f)||We(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==N&&We(t,n,h,f,l,N)}n=b,r=g,l=G,q!=null?as(t,!!r,q,!1):!!l!=!!r&&(n!=null?as(t,!!r,n,!0):as(t,!!r,r?[]:"",!1));return;case"textarea":G=q=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,n,b,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,n,g,h,l,f)}hu(t,q,G);return;case"option":for(var oe in r)q=r[oe],r.hasOwnProperty(oe)&&q!=null&&!l.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:We(t,n,oe,null,l,q));for(N in l)q=l[N],G=r[N],l.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":We(t,n,N,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in r)q=r[ge],r.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&We(t,n,ge,null,l,q);for(P in l)if(q=l[P],G=r[P],l.hasOwnProperty(P)&&q!==G&&(q!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:We(t,n,P,q,l,G)}return;default:if(sa(n)){for(var et in r)q=r[et],r.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&md(t,n,et,void 0,l,q);for(Q in l)q=l[Q],G=r[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||md(t,n,Q,q,l,G);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&We(t,n,j,null,l,q);for(Y in l)q=l[Y],G=r[Y],!l.hasOwnProperty(Y)||q===G||q==null&&G==null||We(t,n,Y,q,l,G)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,b=h.duration;if(f&&b&&t0(g)){for(g=0,b=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],P=N.startTime;if(P>b)break;var Q=N.transferSize,Y=N.initiatorType;Q&&t0(Y)&&(N=N.responseEnd,g+=Q*(N<b?1:(b-P)/(N-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function $T(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(WT)}:s0;function WT(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function a0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Pa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")fo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,fo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&fo(t.ownerDocument.body);r=h}while(r);Pa(n)}function l0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function eb(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function tb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function o0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function u0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function c0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function h0(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ta(t)}var kn=new Map,f0=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=z.d;z.d={f:ib,r:sb,D:rb,C:ab,L:lb,m:ob,X:cb,S:ub,M:hb};function ib(){var t=Yi.f(),n=ac();return t||n}function sb(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Yi.r(t)}var ja=typeof document>"u"?null:document;function d0(t,n,r){var l=ja;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),f0.has(h)||(f0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),Et(n),l.head.appendChild(n)))}}function rb(t){Yi.D(t),d0("dns-prefetch",t,null)}function ab(t,n){Yi.C(t,n),d0("preconnect",t,n)}function lb(t,n,r){Yi.L(t,n,r);var l=ja;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=La(t)}kn.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),kn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(mo(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),Gt(n,"link",t),Et(n),l.head.appendChild(n)))}}function ob(t,n){Yi.m(t,n);var r=ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!kn.has(f)&&(t=x({rel:"modulepreload",href:t},n),kn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(po(f)))return}l=r.createElement("link"),Gt(l,"link",t),Et(l),r.head.appendChild(l)}}}function ub(t,n,r){Yi.S(t,n,r);var l=ja;if(l&&t){var h=li(l).hoistableStyles,f=Ua(t);n=n||"default";var g=h.get(f);if(!g){var b={loading:0,preload:null};if(g=l.querySelector(mo(f)))b.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=kn.get(f))&&Sd(t,r);var N=g=l.createElement("link");Et(N),Gt(N,"link",t),N._p=new Promise(function(P,Q){N.onload=P,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:b},h.set(f,g)}}}function cb(t,n){Yi.X(t,n);var r=ja;if(r&&t){var l=li(r).hoistableScripts,h=La(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=x({src:t,async:!0},n),(n=kn.get(h))&&Ad(t,n),f=r.createElement("script"),Et(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function hb(t,n){Yi.M(t,n);var r=ja;if(r&&t){var l=li(r).hoistableScripts,h=La(t),f=l.get(h);f||(f=r.querySelector(po(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=kn.get(h))&&Ad(t,n),f=r.createElement("script"),Et(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m0(t,n,r,l){var h=(h=xe.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ua(r.href),r=li(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ua(r.href);var f=li(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(mo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(t,r),f||fb(h,t,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(r),r=li(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ua(t){return'href="'+sn(t)+'"'}function mo(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fb(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",r),Et(n),t.head.appendChild(n))}function La(t){return'[src="'+sn(t)+'"]'}function po(t){return"script[async]"+t}function g0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,Et(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Gt(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ua(r.href);var f=t.querySelector(mo(h));if(f)return n.state.loading|=4,n.instance=f,Et(f),f;l=p0(r),(h=kn.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var g=f;return g._p=new Promise(function(b,N){g.onload=b,g.onerror=N}),Gt(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=La(r.src),(h=t.querySelector(po(f)))?(n.instance=h,Et(h),h):(l=r,(h=kn.get(f))&&(l=x({},r),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var b=l[g];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function y0(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[vt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var b=l.get(g);b?b.push(f):l.set(g,[f])}}return l}function _0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function db(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mb(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ua(l.href),f=n.querySelector(mo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Et(f);return}f=n.ownerDocument||n,l=p0(l),(h=kn.get(h))&&Sd(l,h),f=f.createElement("link"),Et(f);var g=f;g._p=new Promise(function(b,N){g.onload=b,g.onerror=N}),Gt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function pb(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*XT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(gb,t),vc=null,_c.call(t))}function gb(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var go={$$typeof:J,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function yb(t,n,r,l,h,f,g,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function E0(t,n,r,l,h,f,g,b,N,P,Q,Y){return t=new yb(t,n,r,g,N,P,Q,Y,b),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function T0(t){return t?(t=pa,t):pa}function b0(t,n,r,l,h,f){h=T0(h),l.context===null?l.context=h:l.pendingContext=h,l=vs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Es(t,l,n),r!==null&&(cn(r,t,n),Kl(r,t,n))}function S0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){S0(t,n),(t=t.alternate)&&S0(t,n)}function A0(t){if(t.tag===13||t.tag===31){var n=Sr(t,67108864);n!==null&&cn(n,t,67108864),xd(t,67108864)}}function w0(t){if(t.tag===13||t.tag===31){var n=Tn();n=hr(n);var r=Sr(t,n);r!==null&&cn(r,t,n),xd(t,n)}}var Tc=!0;function _b(t,n,r,l){var h=F.T;F.T=null;var f=z.p;try{z.p=2,Rd(t,n,r,l)}finally{z.p=f,F.T=h}}function vb(t,n,r,l){var h=F.T;F.T=null;var f=z.p;try{z.p=8,Rd(t,n,r,l)}finally{z.p=f,F.T=h}}function Rd(t,n,r,l){if(Tc){var h=Cd(l);if(h===null)dd(t,n,l,bc,r),R0(t,l);else if(Tb(h,t,n,r,l))l.stopPropagation();else if(R0(t,l),n&4&&-1<Eb.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var N=1<<31-ft(g);b.entanglements[1]|=N,g&=~N}Ei(f),(Ge&6)===0&&(sc=en()+500,uo(0))}}break;case 31:case 13:b=Sr(f,2),b!==null&&cn(b,f,2),ac(),xd(f,2)}if(f=Cd(l),f===null&&dd(t,n,l,bc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Cd(t){return t=wn(t),Nd(t)}var bc=null;function Nd(t){if(bc=null,t=ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bc=t,null}function x0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case _l:return 2;case vl:return 8;case ss:case Vh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Id=!1,Ds=null,Os=null,Ms=null,yo=new Map,_o=new Map,Vs=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(t,n){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(n.pointerId)}}function vo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&A0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Tb(t,n,r,l,h){switch(n){case"focusin":return Ds=vo(Ds,t,n,r,l,h),!0;case"dragenter":return Os=vo(Os,t,n,r,l,h),!0;case"mouseover":return Ms=vo(Ms,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return yo.set(f,vo(yo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_o.set(f,vo(_o.get(f)||null,t,n,r,l,h)),!0}return!1}function C0(t){var n=ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Pn(t.priority,function(){w0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Pn(t.priority,function(){w0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Dl=l,r.target.dispatchEvent(l),Dl=null}else return n=An(r),n!==null&&A0(n),t.blockedOn=r,!1;n.shift()}return!0}function N0(t,n,r){Sc(t)&&r.delete(n)}function bb(){Id=!1,Ds!==null&&Sc(Ds)&&(Ds=null),Os!==null&&Sc(Os)&&(Os=null),Ms!==null&&Sc(Ms)&&(Ms=null),yo.forEach(N0),_o.forEach(N0)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,bb)))}var wc=null;function I0(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nd(l||r)===null)continue;break}var f=An(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Pa(t){function n(N){return Ac(N,t)}Ds!==null&&Ac(Ds,t),Os!==null&&Ac(Os,t),Ms!==null&&Ac(Ms,t),yo.forEach(n),_o.forEach(n);for(var r=0;r<Vs.length;r++){var l=Vs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)C0(r),r.blockedOn===null&&Vs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[kt]||null;if(typeof f=="function")g||I0(r);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[kt]||null)b=g.formAction;else if(Nd(h)!==null)continue}else b=g.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),I0(r)}}}function D0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}xc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Tn();b0(r,l,t,n,null,null)},xc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;b0(t.current,2,null,t,null,null),ac(),n[si]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,t),r===0&&C0(t)}};var O0=e.version;if(O0!=="19.2.4")throw Error(a(527,O0,"19.2.4"));z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Sb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Un=Rc.inject(Sb),Pt=Rc}catch{}}return To.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Pg,f=zg,g=Bg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E0(t,1,!1,null,null,r,l,null,h,f,g,D0),t[si]=n.current,fd(t),new Dd(n)},To.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Pg,g=zg,b=Bg,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=E0(t,1,!0,n,r??null,l,h,N,f,g,b,D0),n.context=T0(null),r=n.current,l=Tn(),l=hr(l),h=vs(l),h.callback=null,Es(r,h,l),r=l,n.current.lanes=r,ur(n,r),Ei(n),t[si]=n.current,fd(t),new xc(n)},To.version="19.2.4",To}var q0;function Mb(){if(q0)return Vd.exports;q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=Ob(),Vd.exports}var Vb=Mb();const kb=()=>{};var H0={};const vv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},jb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,y=v?s[o+2]:0,A=c>>2,x=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,B=y&63;v||(B=64,d||(V=64)),a.push(i[A],i[x],i[V],i[B])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(vv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):jb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||x==null)throw new Ub;const V=c<<2|p>>4;if(a.push(V),y!==64){const B=p<<4&240|y>>2;if(a.push(B),x!==64){const W=y<<6&192|x;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(s){const e=vv(s);return Ev.encodeByteArray(e,!0)},Fc=function(s){return Lb(s).replace(/\./g,"")},Tv=function(s){try{return Ev.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zb=()=>Pb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof H0>"u")return;const s=H0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Tv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return kb()||zb()||Bb()||qb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bv=s=>fh()?.emulatorHosts?.[s],Hb=s=>{const e=bv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Sv=()=>fh()?.config,Av=s=>fh()?.[`_${s}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wv(s){return(await fetch(s,{credentials:"include"})).ok}function Fb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Ro={};function Qb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?s.emulator.push(e):s.prod.push(e);return s}function Kb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let G0=!1;function xv(s,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Ro[s]===e||Ro[s]||G0)return;Ro[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Qb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,B){V.setAttribute("width","24"),V.setAttribute("id",B),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{G0=!0,d()},V}function A(V,B){V.setAttribute("id",B),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function x(){const V=Kb(a),B=i("text"),W=document.getElementById(B)||document.createElement("span"),ee=i("learnmore"),te=document.getElementById(ee)||document.createElement("a"),ue=i("preprendIcon"),pe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const J=V.element;p(J),A(te,ee);const le=y();v(pe,ue),J.append(pe,W,te,le),document.body.appendChild(J)}c?(W.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Xb(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eS(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const iS="FirebaseError";class ns extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=iS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?sS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ns(o,p,a)}}function sS(s,e){return s.replace(rS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const rS=/\{\$([^}]+)}/g;function aS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Br(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(F0(c)&&F0(d)){if(!Br(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function F0(s){return s!==null&&typeof s=="object"}function Go(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function lS(s,e){const i=new oS(s,e);return i.subscribe.bind(i)}class oS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function Wt(s){return s&&s._delegate?s._delegate:s}class qr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jr="[DEFAULT]";class cS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Gb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fS(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(s){return s===jr?void 0:s}function fS(s){return s.instantiationMode==="EAGER"}class dS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const mS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},pS=Me.INFO,gS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},yS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=gS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _S=(s,e)=>e.some(i=>s instanceof i);let Q0,K0;function vS(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rv=new WeakMap,Jd=new WeakMap,Cv=new WeakMap,Pd=new WeakMap,wm=new WeakMap;function TS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Rv.set(i,s)}).catch(()=>{}),wm.set(e,s),e}function bS(s){if(Jd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,e)}let Zd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Jd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Cv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function SS(s){Zd=s(Zd)}function AS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zd(this),e,...i);return Cv.set(a,e.sort?e.sort():[e]),qs(a)}:ES().includes(s)?function(...e){return s.apply(zd(this),e),qs(Rv.get(this))}:function(...e){return qs(s.apply(zd(this),e))}}function wS(s){return typeof s=="function"?AS(s):(s instanceof IDBTransaction&&bS(s),_S(s,vS())?new Proxy(s,Zd):s)}function qs(s){if(s instanceof IDBRequest)return TS(s);if(Pd.has(s))return Pd.get(s);const e=wS(s);return e!==s&&(Pd.set(s,e),wm.set(e,s)),e}const zd=s=>wm.get(s);function xS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),p=qs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(qs(d.result),v.oldVersion,v.newVersion,qs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const RS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Bd=new Map;function Y0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=CS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||RS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Bd.set(e,c),c}SS(s=>({...s,get:(e,i,a)=>Y0(e,i)||s.get(e,i,a),has:(e,i)=>!!Y0(e,i)||s.has(e,i)}));class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function IS(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",X0="0.14.8";const Ji=new Am("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",kS="@firebase/app-check",jS="@firebase/auth",US="@firebase/auth-compat",LS="@firebase/database",PS="@firebase/data-connect",zS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",FS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",JS="@firebase/storage",ZS="@firebase/storage-compat",WS="@firebase/firestore",eA="@firebase/ai",tA="@firebase/firestore-compat",nA="firebase",iA="12.9.0";const em="[DEFAULT]",sA={[Wd]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[kS]:"fire-app-check",[VS]:"fire-app-check-compat",[jS]:"fire-auth",[US]:"fire-auth-compat",[LS]:"fire-rtdb",[PS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[FS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[JS]:"fire-gcs",[ZS]:"fire-gcs-compat",[WS]:"fire-fst",[tA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};const Qc=new Map,rA=new Map,tm=new Map;function $0(s,e){try{s.container.addComponent(e)}catch(i){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tl(s){const e=s.name;if(tm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const i of Qc.values())$0(i,s);for(const i of rA.values())$0(i,s);return!0}function xm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Xn(s){return s==null?!1:s.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Ho("app","Firebase",aA);class lA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const ul=iA;function Nv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Hs.create("bad-app-name",{appName:String(o)});if(i||(i=Sv()),!i)throw Hs.create("no-options");const c=Qc.get(o);if(c){if(Br(i,c.options)&&Br(a,c.config))return c;throw Hs.create("duplicate-app",{appName:o})}const d=new dS(o);for(const v of tm.values())d.addComponent(v);const p=new lA(i,a,d);return Qc.set(o,p),p}function Iv(s=em){const e=Qc.get(s);if(!e&&s===em&&Sv())return Nv();if(!e)throw Hs.create("no-app",{appName:s});return e}function Gs(s,e,i){let a=sA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}tl(new qr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const oA="firebase-heartbeat-database",uA=1,Vo="firebase-heartbeat-store";let qd=null;function Dv(){return qd||(qd=xS(oA,uA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hs.create("idb-open",{originalErrorMessage:s.message})})),qd}async function cA(s){try{const i=(await Dv()).transaction(Vo),a=await i.objectStore(Vo).get(Ov(s));return await i.done,a}catch(e){if(e instanceof ns)Ji.warn(e.message);else{const i=Hs.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(i.message)}}}async function J0(s,e){try{const a=(await Dv()).transaction(Vo,"readwrite");await a.objectStore(Vo).put(e,Ov(s)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function Ov(s){return`${s.name}!${s.options.appId}`}const hA=1024,fA=30;class dA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fA){const o=gA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z0(),{heartbeatsToSend:i,unsentEntries:a}=mA(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ji.warn(e),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function mA(s,e=hA){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),W0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function W0(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function gA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function yA(s){tl(new qr("platform-logger",e=>new NS(e),"PRIVATE")),tl(new qr("heartbeat",e=>new dA(e),"PRIVATE")),Gs(Wd,X0,s),Gs(Wd,X0,"esm2020"),Gs("fire-js","")}yA("");var _A="firebase",vA="12.9.0";Gs(_A,vA,"app");function Mv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Mv,Vv=new Ho("auth","Firebase",Mv());const Kc=new Am("@firebase/auth");function TA(s,...e){Kc.logLevel<=Me.WARN&&Kc.warn(`Auth (${ul}): ${s}`,...e)}function kc(s,...e){Kc.logLevel<=Me.ERROR&&Kc.error(`Auth (${ul}): ${s}`,...e)}function Zi(s,...e){throw Rm(s,...e)}function Si(s,...e){return Rm(s,...e)}function kv(s,e,i){const a={...EA(),[e]:i};return new Ho("auth","Firebase",a).create(e,{appName:s.name})}function Fs(s){return kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Vv.create(s,...e)}function ve(s,e,...i){if(!s)throw Rm(e,...i)}function Xi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw kc(e),new Error(e)}function Wi(s,e){s||Xi(e)}function nm(){return typeof self<"u"&&self.location?.href||""}function bA(){return e_()==="http:"||e_()==="https:"}function e_(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||Jb()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wi(i>e,"Short delay should be less than long delay!"),this.isMobile=Yb()||Zb()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(s,e){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class jv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RA=new Fo(3e4,6e4);function dh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function cl(s,e,i,a,o={}){return Uv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Go({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:v,...c};return $b()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ol(s.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(await Pv(s,s.config.apiHost,i,p),y)})}async function Uv(s,e,i){s._canInitEmulator=!1;const a={...wA,...e};try{const o=new CA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Cc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kv(s,A,y);Zi(s,A)}}catch(o){if(o instanceof ns)throw o;Zi(s,"network-request-failed",{message:String(o)})}}async function Lv(s,e,i,a,o={}){const c=await cl(s,e,i,a,o);return"mfaPendingCredential"in c&&Zi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Pv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Cm(s.config,o):`${s.config.apiScheme}://${o}`;return xA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class CA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),RA.get())})}}function Cc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Si(s,e,a);return o.customData._tokenResponse=i,o}async function NA(s,e){return cl(s,"POST","/v1/accounts:delete",e)}async function Yc(s,e){return cl(s,"POST","/v1/accounts:lookup",e)}function Co(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IA(s,e=!1){const i=Wt(s),a=await i.getIdToken(e),o=Nm(a);ve(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Co(Hd(o.auth_time)),issuedAtTime:Co(Hd(o.iat)),expirationTime:Co(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function Nm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tv(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t_(s){const e=Nm(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ko(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ns&&DA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function DA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(s){const e=s.auth,i=await s.getIdToken(),a=await ko(s,Yc(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?zv(o.providerUserInfo):[],d=VA(s.providerData,c),p=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,y=p?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function MA(s){const e=Wt(s);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function zv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kA(s,e){const i=await Uv(s,{},async()=>{const a=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Pv(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&ol(s.emulatorConfig.host)&&(v.credentials="include"),jv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jA(s,e){return cl(s,"POST","/v2/accounts:revokeToken",dh(s,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=t_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await kA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function js(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ko(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return IA(this,e)}reload(){return MA(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await ko(this,NA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:x,emailVerified:V,isAnonymous:B,providerData:W,stsTokenManager:ee}=i;ve(x&&ee,e,"internal-error");const te=Ya.fromJSON(this.name,ee);ve(typeof x=="string",e,"internal-error"),js(a,e.name),js(o,e.name),ve(typeof V=="boolean",e,"internal-error"),ve(typeof B=="boolean",e,"internal-error"),js(c,e.name),js(d,e.name),js(p,e.name),js(v,e.name),js(y,e.name),js(A,e.name);const ue=new $n({uid:x,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(ue.providerData=W.map(pe=>({...pe}))),v&&(ue._redirectEventId=v),ue}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?zv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(a);const v=new $n({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const n_=new Map;function $i(s){Wi(s instanceof Function,"Expected a class definition");let e=n_.get(s);return e?(Wi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,n_.set(s,e),e)}class Bv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Bv.type="NONE";const i_=Bv;function jc(s,e,i){return`firebase:${s}:${e}:${i}`}class Xa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Yc(this.auth,{idToken:e}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Xa($i(i_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||$i(i_);const d=jc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let x;if(typeof A=="string"){const V=await Yc(e,{idToken:A}).catch(()=>{});if(!V)break;x=await $n._fromGetAccountInfoResponse(e,V,A)}else x=$n._fromJSON(e,A);y!==c&&(p=x),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Xa(c,e,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,e,a))}}function s_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kv(e))return"Blackberry";if(Yv(e))return"Webos";if(Hv(e))return"Safari";if((e.includes("chrome/")||Gv(e))&&!e.includes("edge/"))return"Chrome";if(Qv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function qv(s=Zt()){return/firefox\//i.test(s)}function Hv(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gv(s=Zt()){return/crios\//i.test(s)}function Fv(s=Zt()){return/iemobile/i.test(s)}function Qv(s=Zt()){return/android/i.test(s)}function Kv(s=Zt()){return/blackberry/i.test(s)}function Yv(s=Zt()){return/webos/i.test(s)}function Im(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function UA(s=Zt()){return Im(s)&&!!window.navigator?.standalone}function LA(){return Wb()&&document.documentMode===10}function Xv(s=Zt()){return Im(s)||Qv(s)||Yv(s)||Kv(s)||/windows phone/i.test(s)||Fv(s)}function $v(s,e=[]){let i;switch(s){case"Browser":i=s_(Zt());break;case"Worker":i=`${s_(Zt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ul}/${a}`}class PA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zA(s,e={}){return cl(s,"GET","/v2/passwordPolicy",dh(s,e))}const BA=6;class qA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class HA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Yc(this,{idToken:e}),a=await $n._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(Fs(this));const i=e?Wt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zA(this),i=new qA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await jA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&$i(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$v(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mh(s){return Wt(s)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GA(s){Dm=s}function FA(s){return Dm.loadJS(s)}function QA(){return Dm.gapiScript}function KA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function YA(s,e){const i=xm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Br(c,e??{}))return o;Zi(o,"already-initialized")}return i.initialize({options:e})}function XA(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function $A(s,e,i){const a=mh(s);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Jv(e),{host:d,port:p}=JA(e),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(Br(y,a.config.emulator)&&Br(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ol(d)?(wv(`${c}//${d}${v}`),xv("Auth",!0)):ZA()}function Jv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function JA(s){const e=Jv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:a_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a_(d)}}}function a_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ZA(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Zv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,i){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function $a(s,e){return Lv(s,"POST","/v1/accounts:signInWithIdp",dh(s,e))}const WA="http://localhost";class Hr extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Hr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:WA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Go(i)}return e}}class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qo extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Us extends Qo{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ls extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Hr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ls.credential(i,a)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Qo{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class zs extends Qo{constructor(){super("twitter.com")}static credential(e,i){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function ew(s,e){return Lv(s,"POST","/v1/accounts:signUp",dh(s,e))}class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await $n._fromIdTokenResponse(e,a,o),d=l_(a);return new $s({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=l_(a);return new $s({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function l_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function tw(s){if(Xn(s.app))return Promise.reject(Fs(s));const e=mh(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new $s({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await ew(e,{returnSecureToken:!0}),a=await $s._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class $c extends ns{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new $c(e,i,a,o)}}function eE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(s,c,e,a):c})}async function nw(s,e,i=!1){const a=await ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return $s._forOperation(s,"link",a)}async function iw(s,e,i=!1){const{auth:a}=s;if(Xn(a.app))return Promise.reject(Fs(a));const o="reauthenticate";try{const c=await ko(s,eE(a,o,e,s),i);ve(c.idToken,a,"internal-error");const d=Nm(c.idToken);ve(d,a,"internal-error");const{sub:p}=d;return ve(s.uid===p,a,"user-mismatch"),$s._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function sw(s,e,i=!1){if(Xn(s.app))return Promise.reject(Fs(s));const a="signIn",o=await eE(s,a,e),c=await $s._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function rw(s,e,i,a){return Wt(s).onIdTokenChanged(e,i,a)}function aw(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function lw(s,e,i,a){return Wt(s).onAuthStateChanged(e,i,a)}const Jc="__sak";class tE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ow=1e3,uw=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);LA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const cw=nE;class iE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}iE.type="SESSION";const sE=iE;function hw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await hw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Om(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class fw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Om("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const V=x;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function dw(s){Ai().location.href=s}function rE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function gw(){return rE()?self:null}const aE="firebaseLocalStorageDb",yw=1,Zc="firebaseLocalStorage",lE="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,e){return s.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function _w(){const s=indexedDB.deleteDatabase(aE);return new Ko(s).toPromise()}function sm(){const s=indexedDB.open(aE,yw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Zc,{keyPath:lE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Zc)?e(a):(a.close(),await _w(),e(await sm()))})})}async function o_(s,e,i){const a=gh(s,!0).put({[lE]:e,value:i});return new Ko(a).toPromise()}async function vw(s,e){const i=gh(s,!1).get(e),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function u_(s,e){const i=gh(s,!0).delete(e);return new Ko(i).toPromise()}const Ew=800,Tw=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Tw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(gw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mw(),!this.activeServiceWorker)return;this.sender=new fw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await o_(e,Jc,"1"),await u_(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>vw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>u_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=gh(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const bw=oE;new Fo(3e4,6e4);function Sw(s,e){return e?$i(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mm extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Aw(s){return sw(s.auth,new Mm(s),s.bypassAuthState)}function ww(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),iw(i,new Mm(s),s.bypassAuthState)}async function xw(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),nw(i,new Mm(s),s.bypassAuthState)}class uE{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return ww;default:Zi(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new Fo(2e3,1e4);class Qa extends uE{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rw.get())};e()}}Qa.currentPopupAction=null;const Cw="pendingRedirect",Uc=new Map;class Nw extends uE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const a=await Iw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(s,e){const i=Mw(e),a=Ow(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Dw(s,e){Uc.set(s._key(),e)}function Ow(s){return $i(s._redirectPersistence)}function Mw(s){return jc(Cw,s.config.apiKey,s.name)}async function Vw(s,e,i=!1){if(Xn(s.app))return Promise.reject(Fs(s));const a=mh(s),o=Sw(a,e),d=await new Nw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const kw=600*1e3;class jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!cE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function cE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Uw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(s);default:return!1}}async function Lw(s,e={}){return cl(s,"GET","/v1/projects",e)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function Bw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Lw(s);for(const i of e)try{if(qw(i))return}catch{}Zi(s,"unauthorized-domain")}function qw(s){const e=nm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Hw=new Fo(3e4,6e4);function h_(){const s=Ai().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Gw(s){return new Promise((e,i)=>{function a(){h_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h_(),i(Si(s,"network-request-failed"))},timeout:Hw.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const o=KA("iframefcb");return Ai()[o]=()=>{gapi.load?a():i(Si(s,"network-request-failed"))},FA(`${QA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function Fw(s){return Lc=Lc||Gw(s),Lc}const Qw=new Fo(5e3,15e3),Kw="__/auth/iframe",Yw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Cm(e,Yw):`https://${s.config.authDomain}/${Kw}`,a={apiKey:e.apiKey,appName:s.name,v:ul},o=$w.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Go(a).slice(1)}`}async function Zw(s){const e=await Fw(s),i=Ai().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:Jw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(s,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},Qw.get());function v(){Ai().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,t2=600,n2="_blank",i2="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(s,e,i,a=e2,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Ww,width:a.toString(),height:o.toString(),top:c,left:d},y=Zt().toLowerCase();i&&(p=Gv(y)?n2:i),qv(y)&&(e=e||i2,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[B,W])=>`${V}${B}=${W},`,"");if(UA(y)&&p!=="_self")return r2(e||"",p),new f_(null);const x=window.open(e||"",p,A);ve(x,s,"popup-blocked");try{x.focus()}catch{}return new f_(x)}function r2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const a2="__/auth/handler",l2="emulator/auth/handler",o2=encodeURIComponent("fac");async function d_(s,e,i,a,o,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ul,eventId:o};if(e instanceof Wv){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",aS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,x]of Object.entries({}))d[A]=x}if(e instanceof Qo){const A=e.getScopes().filter(x=>x!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),y=v?`#${o2}=${encodeURIComponent(v)}`:"";return`${u2(s)}?${Go(p).slice(1)}${y}`}function u2({config:s}){return s.emulator?Cm(s,l2):`https://${s.authDomain}/${a2}`}const Gd="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(e,i,a,o){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d_(e,i,a,nm(),o);return s2(e,c,Om())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await d_(e,i,a,nm(),o);return dw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Zw(e),a=new jw(e);return i.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Bw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Xv()||Hv()||Im()}}const h2=c2;var m_="@firebase/auth",p_="1.12.0";class f2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(s){tl(new qr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$v(s)},y=new HA(a,o,c,v);return XA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),tl(new qr("auth-internal",e=>{const i=mh(e.getProvider("auth").getImmediate());return(a=>new f2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(m_,p_,d2(s)),Gs(m_,p_,"esm2020")}const p2=300,g2=Av("authIdTokenMaxAge")||p2;let g_=null;const y2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>g2)return;const o=i?.token;g_!==o&&(g_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _2(s=Iv()){const e=xm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=YA(s,{popupRedirectResolver:h2,persistence:[bw,cw,sE]}),a=Av("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=y2(c.toString());aw(i,d,()=>d(i.currentUser)),rw(i,p=>d(p))}}const o=bv("auth");return o&&$A(i,`http://${o}`),i}function v2(){return document.getElementsByTagName("head")?.[0]??document}GA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Si("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",v2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,hE;(function(){var s;function e(C,T){function w(){}w.prototype=T.prototype,C.F=T.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(I,D,k){for(var R=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)R[Qe-2]=arguments[Qe];return T.prototype[D].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,w){w||(w=0);const I=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)I[D]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(D=0;D<16;++D)I[D]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=C.g[0],w=C.g[1],D=C.g[2];let k=C.g[3],R;R=T+(k^w&(D^k))+I[0]+3614090360&4294967295,T=w+(R<<7&4294967295|R>>>25),R=k+(D^T&(w^D))+I[1]+3905402710&4294967295,k=T+(R<<12&4294967295|R>>>20),R=D+(w^k&(T^w))+I[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(T^D&(k^T))+I[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(k^w&(D^k))+I[4]+4118548399&4294967295,T=w+(R<<7&4294967295|R>>>25),R=k+(D^T&(w^D))+I[5]+1200080426&4294967295,k=T+(R<<12&4294967295|R>>>20),R=D+(w^k&(T^w))+I[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(T^D&(k^T))+I[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(k^w&(D^k))+I[8]+1770035416&4294967295,T=w+(R<<7&4294967295|R>>>25),R=k+(D^T&(w^D))+I[9]+2336552879&4294967295,k=T+(R<<12&4294967295|R>>>20),R=D+(w^k&(T^w))+I[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(T^D&(k^T))+I[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(k^w&(D^k))+I[12]+1804603682&4294967295,T=w+(R<<7&4294967295|R>>>25),R=k+(D^T&(w^D))+I[13]+4254626195&4294967295,k=T+(R<<12&4294967295|R>>>20),R=D+(w^k&(T^w))+I[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(T^D&(k^T))+I[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(D^k&(w^D))+I[1]+4129170786&4294967295,T=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(T^w))+I[6]+3225465664&4294967295,k=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(k^T))+I[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^T&(D^k))+I[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^k&(w^D))+I[5]+3593408605&4294967295,T=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(T^w))+I[10]+38016083&4294967295,k=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(k^T))+I[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^T&(D^k))+I[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^k&(w^D))+I[9]+568446438&4294967295,T=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(T^w))+I[14]+3275163606&4294967295,k=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(k^T))+I[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^T&(D^k))+I[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^k&(w^D))+I[13]+2850285829&4294967295,T=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(T^w))+I[2]+4243563512&4294967295,k=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(k^T))+I[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^T&(D^k))+I[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(w^D^k)+I[5]+4294588738&4294967295,T=w+(R<<4&4294967295|R>>>28),R=k+(T^w^D)+I[8]+2272392833&4294967295,k=T+(R<<11&4294967295|R>>>21),R=D+(k^T^w)+I[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^T)+I[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^k)+I[1]+2763975236&4294967295,T=w+(R<<4&4294967295|R>>>28),R=k+(T^w^D)+I[4]+1272893353&4294967295,k=T+(R<<11&4294967295|R>>>21),R=D+(k^T^w)+I[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^T)+I[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^k)+I[13]+681279174&4294967295,T=w+(R<<4&4294967295|R>>>28),R=k+(T^w^D)+I[0]+3936430074&4294967295,k=T+(R<<11&4294967295|R>>>21),R=D+(k^T^w)+I[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^T)+I[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^k)+I[9]+3654602809&4294967295,T=w+(R<<4&4294967295|R>>>28),R=k+(T^w^D)+I[12]+3873151461&4294967295,k=T+(R<<11&4294967295|R>>>21),R=D+(k^T^w)+I[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^T)+I[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(D^(w|~k))+I[0]+4096336452&4294967295,T=w+(R<<6&4294967295|R>>>26),R=k+(w^(T|~D))+I[7]+1126891415&4294967295,k=T+(R<<10&4294967295|R>>>22),R=D+(T^(k|~w))+I[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~T))+I[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~k))+I[12]+1700485571&4294967295,T=w+(R<<6&4294967295|R>>>26),R=k+(w^(T|~D))+I[3]+2399980690&4294967295,k=T+(R<<10&4294967295|R>>>22),R=D+(T^(k|~w))+I[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~T))+I[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~k))+I[8]+1873313359&4294967295,T=w+(R<<6&4294967295|R>>>26),R=k+(w^(T|~D))+I[15]+4264355552&4294967295,k=T+(R<<10&4294967295|R>>>22),R=D+(T^(k|~w))+I[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~T))+I[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~k))+I[4]+4149444226&4294967295,T=w+(R<<6&4294967295|R>>>26),R=k+(w^(T|~D))+I[11]+3174756917&4294967295,k=T+(R<<10&4294967295|R>>>22),R=D+(T^(k|~w))+I[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~T))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,T){T===void 0&&(T=C.length);const w=T-this.blockSize,I=this.C;let D=this.h,k=0;for(;k<T;){if(D==0)for(;k<=w;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(I[D++]=C.charCodeAt(k++),D==this.blockSize){o(this,I),D=0;break}}else for(;k<T;)if(I[D++]=C[k++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=T},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,w=0;w<4;++w)for(let I=0;I<32;I+=8)C[T++]=this.g[w]>>>I&255;return C};function c(C,T){var w=p;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=T(C)}function d(C,T){this.h=T;const w=[];let I=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;I&&k==T||(w[D]=k,I=!1)}this.g=w}var p={};function v(C){return-128<=C&&C<128?c(C,function(T){return new d([T|0],T<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return te(y(-C));const T=[];let w=1;for(let I=0;C>=w;I++)T[I]=C/w|0,w*=4294967296;return new d(T,0)}function A(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return te(A(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(T,8));let I=x;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+D),T);D<8?(D=y(Math.pow(T,D)),I=I.j(D).add(y(R))):(I=I.j(w),I=I.add(y(R)))}return I}var x=v(0),V=v(1),B=v(16777216);s=d.prototype,s.m=function(){if(ee(this))return-te(this).m();let C=0,T=1;for(let w=0;w<this.g.length;w++){const I=this.i(w);C+=(I>=0?I:4294967296+I)*T,T*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(ee(this))return"-"+te(this).toString(C);const T=y(Math.pow(C,6));var w=this;let I="";for(;;){const D=le(w,T).g;w=ue(w,D.j(T));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,W(w))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=ue(this,C),ee(C)?-1:W(C)?0:1};function te(C){const T=C.g.length,w=[];for(let I=0;I<T;I++)w[I]=~C.g[I];return new d(w,~C.h).add(V)}s.abs=function(){return ee(this)?te(this):this},s.add=function(C){const T=Math.max(this.g.length,C.g.length),w=[];let I=0;for(let D=0;D<=T;D++){let k=I+(this.i(D)&65535)+(C.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);I=R>>>16,k&=65535,R&=65535,w[D]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ue(C,T){return C.add(te(T))}s.j=function(C){if(W(this)||W(C))return x;if(ee(this))return ee(C)?te(this).j(te(C)):te(te(this).j(C));if(ee(C))return te(this.j(te(C)));if(this.l(B)<0&&C.l(B)<0)return y(this.m()*C.m());const T=this.g.length+C.g.length,w=[];for(var I=0;I<2*T;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<C.g.length;D++){const k=this.i(I)>>>16,R=this.i(I)&65535,Qe=C.i(D)>>>16,$e=C.i(D)&65535;w[2*I+2*D]+=R*$e,pe(w,2*I+2*D),w[2*I+2*D+1]+=k*$e,pe(w,2*I+2*D+1),w[2*I+2*D+1]+=R*Qe,pe(w,2*I+2*D+1),w[2*I+2*D+2]+=k*Qe,pe(w,2*I+2*D+2)}for(C=0;C<T;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=T;C<2*T;C++)w[C]=0;return new d(w,0)};function pe(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function J(C,T){this.g=C,this.h=T}function le(C,T){if(W(T))throw Error("division by zero");if(W(C))return new J(x,x);if(ee(C))return T=le(te(C),T),new J(te(T.g),te(T.h));if(ee(T))return T=le(C,te(T)),new J(te(T.g),T.h);if(C.g.length>30){if(ee(C)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var w=V,I=T;I.l(C)<=0;)w=_e(w),I=_e(I);var D=he(w,1),k=he(I,1);for(I=he(I,2),w=he(w,2);!W(I);){var R=k.add(I);R.l(C)<=0&&(D=D.add(w),k=R),I=he(I,1),w=he(w,1)}return T=ue(C,D.j(T)),new J(D,T)}for(D=x;C.l(T)>=0;){for(w=Math.max(1,Math.floor(C.m()/T.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=y(w),R=k.j(T);ee(R)||R.l(C)>0;)w-=I,k=y(w),R=k.j(T);W(k)&&(k=V),D=D.add(k),C=ue(C,R)}return new J(D,C)}s.B=function(C){return le(this,C).h},s.and=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<T;I++)w[I]=this.i(I)&C.i(I);return new d(w,this.h&C.h)},s.or=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<T;I++)w[I]=this.i(I)|C.i(I);return new d(w,this.h|C.h)},s.xor=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let I=0;I<T;I++)w[I]=this.i(I)^C.i(I);return new d(w,this.h^C.h)};function _e(C){const T=C.g.length+1,w=[];for(let I=0;I<T;I++)w[I]=C.i(I)<<1|C.i(I-1)>>>31;return new d(w,C.h)}function he(C,T){const w=T>>5;T%=32;const I=C.g.length-w,D=[];for(let k=0;k<I;k++)D[k]=T>0?C.i(k+w)>>>T|C.i(k+w+1)<<32-T:C.i(k+w);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,hE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Qs=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fE,So,dE,Pc,rm,mE,pE,gE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var _=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&_.push([S,m[S]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,U,H){for(var ne=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)ne[Ae-2]=arguments[Ae];return m.prototype[U].apply(S,ne)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const H=U.length||0;u.length=_+H;for(let ne=0;ne<H;ne++)u[_+ne]=U[ne]}else u.push(U)}}class ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,_){const S=J.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new ee(()=>new le,u=>u.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,he=!1,C=new pe,T=()=>{const u=Promise.resolve(void 0);_e=()=>{u.then(w)}};function w(){for(var u;u=ue();){try{u.h.call(u.g)}catch(_){te(_)}var m=J;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}he=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Qe,D),Qe.prototype.init=function(u,m){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),F=0;function z(u,m,_,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function qe(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let H=0;H<X.length;H++)_=X[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,_,S,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ne=xe(u,m,S,U);return ne>-1?(m=u[ne],_||(m.fa=!1)):(m=new z(m,this.src,H,!!S,U),m.fa=_,u.push(m)),m};function Ee(u,m){const _=m.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(se(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function xe(u,m,_,S){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==S)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Nt={};function at(u,m,_,S,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)at(u,m[H],_,S,U);return null}return _=yl(_),u&&u[$e]?u.J(m,_,p(S)?!!S.capture:!1,U):rr(u,m,_,!1,S,U)}function rr(u,m,_,S,U,H){if(!m)throw Error("Invalid event type");const ne=p(U)?!!U.capture:!!U;let Ae=ar(u);if(Ae||(u[Le]=Ae=new ae(u)),_=Ae.add(m,_,S,ne,H),_.proxy)return _;if(S=$r(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)k||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $r(){function u(_){return m.call(u.src,u.listener,_)}const m=pl;return u}function Jr(u,m,_,S,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Jr(u,m[H],_,S,U);else S=p(S)?!!S.capture:!!S,_=yl(_),u&&u[$e]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=xe(m,_,S,U),_>-1&&(se(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,_,S,U)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[$e])Ee(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Wn(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=ar(m))?(Ee(_,u),_.h==0&&(_.src=null,m[Le]=null)):se(u)}}}function Wn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function pl(u,m){if(u.da)u=!0;else{m=new Qe(m,this);const _=u.listener,S=u.ha||u.src;u.fa&&Zr(u),u=_.call(S,m)}return u}function ar(u){return u=u[Le],u instanceof ae?u:null}var gl="__closure_events_fn_"+(Math.random()*1e9>>>0);function yl(u){return typeof u=="function"?u:(u[gl]||(u[gl]=function(m){return u.handleEvent(m)}),u[gl])}function yt(){I.call(this),this.i=new ae(this),this.M=this,this.G=null}x(yt,I),yt.prototype[$e]=!0,yt.prototype.removeEventListener=function(u,m,_,S){Jr(this,u,m,_,S)};function It(u,m){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(S,u),ie(m,U)}U=!0;let H,ne;if(_)for(ne=_.length-1;ne>=0;ne--)H=m.g=_[ne],U=is(H,S,!0,m)&&U;if(H=m.g=u,U=is(H,S,!0,m)&&U,U=is(H,S,!1,m)&&U,_)for(ne=0;ne<_.length;ne++)H=m.g=_[ne],U=is(H,S,!1,m)&&U}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let S=0;S<_.length;S++)se(_[S]);delete u.g[m],u.h--}}this.G=null},yt.prototype.J=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},yt.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function is(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ne=m[H];if(ne&&!ne.da&&ne.capture==_){const Ae=ne.listener,dt=ne.ha||ne.src;ne.fa&&Ee(u.i,ne),U=Ae.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends I{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){I.call(this),this.h=u,this.g={}}x(lr,I);var _l=[];function vl(u){Ue(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),vl(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Vh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){D.call(this,"d")}x(Pt,D);function Sn(){D.call(this,"c")}x(Sn,D);var ft={},iu=null;function Wr(){return iu=iu||new yt}ft.Ia="serverreachability";function su(u){D.call(this,ft.Ia,u)}x(su,D);function ei(u){const m=Wr();It(m,new su(m))}ft.STAT_EVENT="statevent";function or(u,m){D.call(this,ft.STAT_EVENT,u),this.stat=m}x(or,D);function _t(u){const m=Wr();It(m,new or(m,u))}ft.Ja="timingevent";function ti(u,m){D.call(this,ft.Ja,u),this.size=m}x(ti,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function kh(u,m,_,S,U,H){u.info(function(){if(u.g)if(H){var ne="",Ae=H.split("&");for(let He=0;He<Ae.length;He++){var dt=Ae[He].split("=");if(dt.length>1){const lt=dt[0];dt=dt[1];const Rn=lt.split("_");ne=Rn.length>=2&&Rn[1]=="type"?ne+(lt+"="+dt+"&"):ne+(lt+"=redacted&")}}}else ne=null;else ne=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+_+`
`+ne})}function ru(u,m,_,S,U,H,ne){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+ne})}function ii(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,_)+(S?" "+S:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return ss(H)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tl;function hr(){}x(hr,tu),hr.prototype.g=function(){return new XMLHttpRequest},Tl=new hr;function Ii(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,S){this.j=u,this.i=m,this.l=_,this.S=S||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var vt={},kt={};function si(u,m,_){u.M=1,u.A=fr(Tt(m)),u.u=_,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),ri(u),u.B=Tt(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),sa(_.i,"t",S),u.C=0,_=u.j.L,u.h=new zn,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_l[0]=U.toString()),U=_l);for(let H=0;H<U.length;H++){const ne=at(_,U[H],S||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const Ae=Hn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Ae!=4||dt==7||(dt==8||He<=0?ei(3):ei(2)),ai(this);var m=this.g.ca();this.X=m;var _=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ae,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var H=S;break t}}H=null}if(u=H)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_t(12),dn(this),An(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<_.length;)if(lt=ou(this,_),lt==kt){Ae==4&&(this.m=4,_t(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==vt){this.m=4,_t(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,lt,null),li(this,lt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||_.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jl(ne),ne.P=!0,_t(11))}}else ii(this.i,this.l,_,null),li(this,_);Ae==4&&dn(this),this.o&&!this.K&&(Ae==4?yu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),dn(this),An(this)}}}catch{}};function Uh(u){if(!lu(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let _="";const S=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),An(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(U&&H==S-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?kt:(_=Number(m.substring(_,S)),isNaN(_)?vt:(S+=1,S+_>m.length?kt:(m=m.slice(S,S+_),u.C=S+_,m)))}Pn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ei(),_t(17)),dn(this),this.m=2,An(this)):ta(this,this.T-u)};function An(u){u.j.I==0||u.K||yu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),fs(_);else break e;vr(_),_t(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else pi(_,11)}else if((u.L||_.g==u)&&ua(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let He=U[m];const lt=He[0];if(!(lt<=_.K))if(_.K=lt,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const Rn=He[3];Rn!=null&&(_.ka=Rn,_.j.info("VER="+_.ka));const gi=He[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Gn=He[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(S=1.5*Gn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Fn=u.g;if(Fn){const Er=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var H=S.h;H.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Al(H,H.h),H.h=null))}if(S.G){const ca=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(S.wa=ca,Ke(S.J,S.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ne=u;if(S.na=Eu(S,S.L?S.ba:null,S.W),ne.L){wl(S.h,ne);var Ae=ne,dt=S.O;dt&&(Ae.H=dt),Ae.D&&(ai(Ae),ri(Ae)),S.g=ne}else pu(S);_.i.length>0&&mi(_)}else He[0]!="stop"&&He[0]!="close"||pi(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?pi(_,7):Vl(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}ei(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function bl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Al(u,m){u.g?u.g.add(m):u.h=m}function wl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return B(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let U,H=null;S>=0?(U=u[_].substring(0,S),H=u[_].substring(S+1)):U=u[_],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,jt(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,Rl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,jt(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ia,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(dr(_,_.charAt(0)=="/"?Cl:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",dr(_,hu)),u.join("")},mn.prototype.resolve=function(u){const m=Tt(this);let _=!!u.j;_?jt(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var S=u.h;if(_)rs(m,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ne=0;ne<U.length;){const Ae=U[ne++];Ae=="."?S&&ne==U.length&&H.push(""):Ae==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&ne==U.length&&H.push("")):(H.push(Ae),S=!0)}S=H.join("/")}else S=U}return _?m.h=S:_=u.i.toString()!=="",_?Rl(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Tt(u){return new mn(u)}function jt(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,_){m instanceof ls?(u.i=m,ra(u.i,u.l)):(_||(m=dr(m,as)),u.i=new ls(m,u.l))}function Ke(u,m,_){u.i.set(m,_)}function fr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,cu=/[#\?:]/g,Cl=/[#\?]/g,as=/[#\?@]/g,hu=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=ls.prototype,s.add=function(u,m){rn(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){rn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return rn(u),m=os(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Il(u,m){rn(u);let _=[];if(typeof m=="string")Nl(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return rn(this),this.i=null,u=os(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),B(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var _=m[S];const U=Ii(_);_=Il(this,_);for(let H=0;H<_.length;H++){let ne=U;_[H]!==""&&(ne+="="+Ii(_[H])),u.push(ne)}}return this.i=u.join("&")};function du(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,S){const U=S.toLowerCase();S!=U&&(fu(this,S),sa(this,U,_))},u)),u.j=m}function Bn(u,m){const _=new Ln;if(d.Image){const S=new Image;S.onload=A(wn,_,"TestLoadImage: loaded",!0,m,S),S.onerror=A(wn,_,"TestLoadImage: error",!1,m,S),S.onabort=A(wn,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(wn,_,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Dl(u,m){const _=new Ln,S=new AbortController,U=setTimeout(()=>{S.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function us(){this.g=new eu}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(hi,tu),hi.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){yt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(mr,yt),s=mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Ue(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=xn(_),typeof u=="string"?_!=null&&Ii(_):Ke(u,m,_))}function Je(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,yt);var fi=/^https?$/i,Ol=["POST","PUT"];s=Je.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tl.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){gr(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ol,m,void 0)>=0)||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of _)this.g.setRequestHeader(H,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){gr(this,H)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ml(u),Di(u)}function Ml(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},s.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=H===0){let ne=String(u.D).match(uu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),S=!fi.test(ne?ne.toLowerCase():"")}_=S}if(_)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ml(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||It(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var _=au(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}qe(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,S){_t(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Eu(this,null,this.W),mi(this)};function Vl(u){if(la(u),u.I==3){var m=u.V++,_=Tt(u.J);if(Ke(_,"SID",u.M),Ke(_,"RID",m),Ke(_,"TYPE","terminate"),_r(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=fr(Tt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}vu(u)}function fs(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function la(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!Sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;_e||T(),he||(_e(),he=!0),C.add(m,u),u.D=0}}function oa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),ie(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=mu(this,U,m),_=Tt(this.J),Ke(_,"RID",u),Ke(_,"CVER",22),this.G&&Ke(_,"X-HTTP-Session-Id",this.G),_r(this,_),H&&(this.R?m="headers="+Ii(xn(H))+"&"+m:this.u&&pr(_,this.u,H)),Al(this.h,U),this.Ra&&Ke(_,"TYPE","init"),this.S?(Ke(_,"$req",m),Ke(_,"SID","null"),U.U=!0,si(U,_,null)):si(U,_,m),this.I=2}}else this.I==3&&(u?kl(this,u):this.i.length==0||Sl(this.h)||kl(this))};function kl(u,m){var _;m?_=m.l:_=u.V++;const S=Tt(u.J);Ke(S,"SID",u.M),Ke(S,"RID",_),Ke(S,"AID",u.K),_r(u,S),u.u&&u.o&&pr(S,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Al(u.h,_),si(_,S,m)}function _r(u,m){u.H&&Ue(u.H,function(_,S){Ke(m,S,_)}),u.l&&Ue({},function(_,S){Ke(m,S,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ae=-1;for(;;){const dt=["count="+_];Ae==-1?_>0?(Ae=U[0].g,dt.push("ofs="+Ae)):Ae=0:dt.push("ofs="+Ae);let He=!0;for(let lt=0;lt<_;lt++){var H=U[lt].g;const Rn=U[lt].map;if(H-=Ae,H<0)Ae=Math.max(0,U[lt].g-100),He=!1;else try{H="req"+H+"_"||"";try{var ne=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Gn]of ne){let Fn=Gn;p(Gn)&&(Fn=ss(Gn)),dt.push(H+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw dt.push(H+"type="+encodeURIComponent("_badmap")),gi}}catch{S&&S(Rn)}}if(He){ne=dt.join("&");break e}}ne=void 0}return u=u.i.splice(0,_),m.G=u,ne}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;_e||T(),he||(_e(),he=!0),C.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),fs(this),gu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Tt(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=fr(Tt(m)),_.u=null,_.R=!0,ea(_,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),vr(this),_t(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){ua(u),jl(u),u.g=null;var S=2}else if(ui(u.h,m))_=m.G,wl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Wr(),It(S,new ti(S,_)),mi(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&oa(u,m)||S==2&&vr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),S=u.Ua;const U=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||jt(S,"https"),fr(S),U?Bn(S.toString(),_):Dl(S.toString(),_)}else _t(2);u.I=0,u.l&&u.l.pa(m),vu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var S=_ instanceof mn?Tt(_):new mn(_);if(S.g!="")m&&(S.g=m+"."+S.g),rs(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new mn(null);S&&jt(H,S),m&&(H.g=m),U&&rs(H,U),_&&(H.h=_),S=H}return _=u.G,m=u.wa,_&&m&&Ke(S,_,m),Ke(S,"VER",u.ka),_r(u,S),S}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Je(new hi({ab:_})):new Je(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}s=bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){yt.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}x(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ss(u),u=_);m.i.push(new Et(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,tn.Z.N.call(this)};function Su(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Su,Pt);function Au(){Sn.call(this),this.status=1}x(Au,Sn);function Mi(u){this.g=u}x(Mi,bu),Mi.prototype.ra=function(){It(this.g,"a")},Mi.prototype.qa=function(u){It(this.g,new Su(u))},Mi.prototype.pa=function(u){It(this.g,new Au)},Mi.prototype.oa=function(){It(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,gE=function(){return new ds},pE=function(){return Wr()},mE=ft,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Pc=cr,El.COMPLETE="complete",dE=El,nu.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",yt.prototype.listen=yt.prototype.J,So=nu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,fE=Je}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let hl="12.9.0";function E2(s){hl=s}const Gr=new Am("@firebase/firestore");function qa(){return Gr.logLevel}function re(s,...e){if(Gr.logLevel<=Me.DEBUG){const i=e.map(Vm);Gr.debug(`Firestore (${hl}): ${s}`,...i)}}function es(s,...e){if(Gr.logLevel<=Me.ERROR){const i=e.map(Vm);Gr.error(`Firestore (${hl}): ${s}`,...i)}}function Fr(s,...e){if(Gr.logLevel<=Me.WARN){const i=e.map(Vm);Gr.warn(`Firestore (${hl}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ye(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,yE(s,a,i)}function yE(s,e,i){let a=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Fe(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||yE(e,o,a)}function Se(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class _E{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($t.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Fe(typeof a.accessToken=="string",31837,{l:a}),new _E(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class A2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class w2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class __{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new __(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new __(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ve(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Fd(o)===Fd(c)?Ve(o,c):Fd(o)?1:-1}return Ve(s.length,e.length)}const C2=55296,N2=57343;function Fd(s){const e=s.charCodeAt(0);return e>=C2&&e<=N2}function nl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const v_="__name__";class Ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ye(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ve(e.length,i.length)}static compareSegments(e,i){const a=Ti.isNumericId(e),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class st extends Ti{construct(e,i,a){return new st(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ti{construct(e,i,a){return new Qt(e,i,a)}static isValidIdentifier(e){return I2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Qt([v_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(st.fromString(e))}static fromName(e){return new me(st.fromString(e).popFirst(5))}static empty(){return new me(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new st(e.slice()))}}function vE(s,e,i){if(!i)throw new fe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function D2(s,e,i,a){if(e===!0&&a===!0)throw new fe(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function E_(s){if(!me.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function T_(s){if(me.isDocumentKey(s))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function EE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function Ks(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(s);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Rt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Yo(s,e){if(!EE(s))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new fe(Z.INVALID_ARGUMENT,i);return!0}const b_=-62135596800,S_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*S_);return new rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<b_)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Rt("string",rt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function O2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new rt(i+1,0):new rt(i,a));return new Js(o,me.empty(),e)}function M2(s){return new Js(s.readTime,s.key,jo)}class Js{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(Te.min(),me.empty(),jo)}static max(){return new Js(Te.max(),me.empty(),jo)}}function V2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:Ve(s.largestBatchId,e.largestBatchId))}const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==k2)throw s;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function U2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function dl(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Um=-1;function _h(s){return s==null}function Wc(s){return s===0&&1/s==-1/0}function L2(s){return typeof s=="number"&&Number.isInteger(s)&&!Wc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const TE="";function P2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=A_(e)),e=z2(s.get(i),e);return A_(e)}function z2(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function A_(s){return s+TE+""}function w_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ut{constructor(e,i){this.comparator=e,this.root=i||Ft.EMPTY}insert(e,i){return new ut(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Ft(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Ft(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new bn([])}unionWith(e){let i=new Vt(Qt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new bn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}})(e);return new Kt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Kt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const B2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(Fe(!!s,39018),typeof s=="string"){let e=0;const i=B2.exec(s);if(Fe(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(s.seconds),nanos:gt(s.nanos)}}function gt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const AE="server_timestamp",wE="__type__",xE="__previous_value__",RE="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[wE]?.stringValue===AE}function vh(s){const e=s.mapValue.fields[xE];return Lm(e)?vh(e):e}function Uo(s){const e=Zs(s.mapValue.fields[RE].timestampValue);return new rt(e.seconds,e.nanos)}class q2{constructor(e,i,a,o,c,d,p,v,y,A,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=x}}const eh="(default)";class Lo{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}function H2(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(s.options.projectId,e)}const CE="__type__",G2="__max__",Dc={mapValue:{}},NE="__vector__",th="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:Q2(s)?9007199254740991:F2(s)?10:11:ye(28295,{value:s})}function Ci(s,e){if(s===e)return!0;const i=er(s);if(i!==er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Uo(s).isEqual(Uo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return gt(o.geoPointValue.latitude)===gt(c.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return gt(o.integerValue)===gt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=gt(o.doubleValue),p=gt(c.doubleValue);return d===p?Wc(d)===Wc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return nl(s.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(w_(d)!==w_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ci(d[v],p[v])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function Po(s,e){return(s.values||[]).find((i=>Ci(i,e)))!==void 0}function il(s,e){if(s===e)return 0;const i=er(s),a=er(e);if(i!==a)return Ve(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=gt(c.integerValue||c.doubleValue),v=gt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return R_(s.timestampValue,e.timestampValue);case 4:return R_(Uo(s),Uo(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ws(c),v=Ws(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Ve(p[y],v[y]);if(A!==0)return A}return Ve(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ve(gt(c.latitude),gt(d.latitude));return p!==0?p:Ve(gt(c.longitude),gt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return C_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[th]?.arrayValue,A=v[th]?.arrayValue,x=Ve(y?.values?.length||0,A?.values?.length||0);return x!==0?x:C_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let x=0;x<v.length&&x<A.length;++x){const V=am(v[x],A[x]);if(V!==0)return V;const B=il(p[v[x]],y[A[x]]);if(B!==0)return B}return Ve(v.length,A.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function R_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const i=Zs(s),a=Zs(e),o=Ve(i.seconds,a.seconds);return o!==0?o:Ve(i.nanos,a.nanos)}function C_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=il(i[o],a[o]);if(c)return c}return Ve(i.length,a.length)}function sl(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=lm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${lm(i.fields[d])}`;return o+"}"})(s.mapValue):ye(61005,{value:s})}function zc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ir(a.fields,((c,d)=>{o+=c.length+zc(d)})),o})(s.mapValue);default:throw ye(13486,{value:s})}}function om(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function N_(s){return!!s&&"nullValue"in s}function I_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function F2(s){return(s?.mapValue?.fields||{})[CE]?.stringValue===NE}function No(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ir(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=No(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=No(s.arrayValue.values[i]);return e}return{...s}}function Q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(i)}setAll(e){let i=Qt.emptyPath(),a={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=No(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new fn(No(this.value))}}function IE(s){const e=[];return ir(s.fields,((i,a)=>{const o=new Qt([i]);if(Bc(a)){const c=IE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new bn(e)}class Jt{constructor(e,i,a,o,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),fn.empty(),0)}static newFoundDocument(e,i,a,o){return new Jt(e,1,i,Te.min(),a,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,Te.min(),Te.min(),fn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Te.min(),Te.min(),fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,i){this.position=e,this.inclusive=i}}function D_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=me.comparator(me.fromName(d.referenceValue),i.key):a=il(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function O_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],e.position[i]))return!1;return!0}class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function K2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class DE{}class Ot extends DE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new X2(e,i,a):i==="array-contains"?new Z2(e,a):i==="in"?new W2(e,a):i==="not-in"?new ex(e,a):i==="array-contains-any"?new tx(e,a):new Ot(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new $2(e,a):new J2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(il(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(il(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends DE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ni(e,i)}matches(e){return OE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(s){return s.op==="and"}function ME(s){return Y2(s)&&OE(s)}function Y2(s){for(const e of s.filters)if(e instanceof Ni)return!1;return!0}function um(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+sl(s.value);if(ME(s))return s.filters.map((e=>um(e))).join(",");{const e=s.filters.map((i=>um(i))).join(",");return`${s.op}(${e})`}}function VE(s,e){return s instanceof Ot?(function(a,o){return o instanceof Ot&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(s,e):s instanceof Ni?(function(a,o){return o instanceof Ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&VE(d,o.filters[p])),!0):!1})(s,e):void ye(19439)}function kE(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${sl(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"})(s):"Filter"}class X2 extends Ot{constructor(e,i,a){super(e,i,a),this.key=me.fromName(a.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class $2 extends Ot{constructor(e,i){super(e,"in",i),this.keys=jE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class J2 extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=jE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jE(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class Z2 extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pm(i)&&Po(i.arrayValue,this.value)}}class W2 extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Po(this.value.arrayValue,i)}}class ex extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Po(this.value.arrayValue,i)}}class tx extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}class nx{constructor(e,i=null,a=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function M_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new nx(s,e,i,a,o,c,d)}function zm(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>um(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>sl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>sl(a))).join(",")),e.Te=i}return e.Te}function Bm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!K2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!VE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!O_(s.startAt,e.startAt)&&O_(s.endAt,e.endAt)}function cm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ix(s,e,i,a,o,c,d,p){return new Eh(s,e,i,a,o,c,d,p)}function qm(s){return new Eh(s)}function V_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function sx(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function rx(s){return s.collectionGroup!==null}function Io(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Qt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,a))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new ih(Qt.keyField(),a))}return e.Ie}function wi(s){const e=Se(s);return e.Ee||(e.Ee=ax(e,Io(s))),e.Ee}function ax(s,e){if(s.limitType==="F")return M_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ih(o.field,c)}));const i=s.endAt?new nh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nh(s.startAt.position,s.startAt.inclusive):null;return M_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function hm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return Bm(wi(s),wi(e))&&s.limitType===e.limitType}function UE(s){return`${zm(wi(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>kE(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>sl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>sl(o))).join(",")),`Target(${a})`})(wi(s))}; limitType=${s.limitType})`}function bh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):me.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Io(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=D_(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Io(a),o)||a.endAt&&!(function(d,p,v){const y=D_(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Io(a),o))})(s,e)}function lx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LE(s){return(e,i)=>{let a=!1;for(const o of Io(s)){const c=ox(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function ox(s,e,i){const a=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?il(v,y):ye(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ye(19790,{direction:s.dir})}}class Yr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}const ux=new ut(me.comparator);function ts(){return ux}const PE=new ut(me.comparator);function Ao(...s){let e=PE;for(const i of s)e=e.insert(i.key,i);return e}function zE(s){let e=PE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Ur(){return Do()}function BE(){return Do()}function Do(){return new Yr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const cx=new ut(me.comparator),hx=new Vt(me.comparator);function ke(...s){let e=hx;for(const i of s)e=e.add(i);return e}const fx=new Vt(Ve);function dx(){return fx}function Hm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function qE(s){return{integerValue:""+s}}function mx(s,e){return L2(e)?qE(e):Hm(s,e)}class Sh{constructor(){this._=void 0}}function px(s,e,i){return s instanceof sh?(function(o,c){const d={fields:{[wE]:{stringValue:AE},[RE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=vh(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,e):s instanceof zo?GE(s,e):s instanceof Bo?FE(s,e):(function(o,c){const d=HE(o,c),p=k_(d)+k_(o.Ae);return om(d)&&om(o.Ae)?qE(p):Hm(o.serializer,p)})(s,e)}function gx(s,e,i){return s instanceof zo?GE(s,e):s instanceof Bo?FE(s,e):i}function HE(s,e){return s instanceof rh?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class sh extends Sh{}class zo extends Sh{constructor(e){super(),this.elements=e}}function GE(s,e){const i=QE(e);for(const a of s.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Bo extends Sh{constructor(e){super(),this.elements=e}}function FE(s,e){let i=QE(e);for(const a of s.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class rh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function k_(s){return gt(s.integerValue||s.doubleValue)}function QE(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function yx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof zo&&o instanceof zo||a instanceof Bo&&o instanceof Bo?nl(a.elements,o.elements,Ci):a instanceof rh&&o instanceof rh?Ci(a.Ae,o.Ae):a instanceof sh&&o instanceof sh})(s.transform,e.transform)}class _x{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function KE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,Jn.none()):new Xo(s.key,s.data,Jn.none());{const i=s.data,a=fn.empty();let o=new Vt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new sr(s.key,a,new bn(o.toArray()),Jn.none())}}function vx(s,e,i){s instanceof Xo?(function(o,c,d){const p=o.value.clone(),v=U_(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof sr?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=U_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(YE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,a){return s instanceof Xo?(function(c,d,p,v){if(!qc(c.precondition,d))return p;const y=c.value.clone(),A=L_(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof sr?(function(c,d,p,v){if(!qc(c.precondition,d))return p;const y=L_(c.fieldTransforms,v,d),A=d.data;return A.setAll(YE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,p){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ex(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=HE(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function j_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&nl(a,o,((c,d)=>yx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xo extends Ah{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sr extends Ah{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function U_(s,e,i){const a=new Map;Fe(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=e.data.field(c.field);a.set(c.field,gx(d,p,i[o]))}return a}function L_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,px(c,d,e))}return a}class Gm extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tx extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&vx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Oo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=BE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=KE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((i,a)=>j_(i,a)))&&nl(this.baseMutations,e.baseMutations,((i,a)=>j_(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Fe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return cx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class Sx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ax{constructor(e,i){this.count=e,this.unchangedNames=i}}var xt,Pe;function wx(s){switch(s){case Z.OK:return ye(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function XE(s){if(s===void 0)return es("GRPC error has no .code"),Z.UNKNOWN;switch(s){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return ye(39323,{code:s})}}(Pe=xt||(xt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function xx(){return new TextEncoder}const Rx=new Qs([4294967295,4294967295],0);function P_(s){const e=xx().encode(s),i=new hE;return i.update(e),new Uint8Array(i.digest())}function z_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qs([i,a],0),new Qs([o,c],0)]}class Qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wo(`Invalid padding: ${i}`);if(a<0)throw new wo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Qs.fromNumber(a)));return o.compare(Rx)===1&&(o=new Qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=P_(e),[a,o]=z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=P_(e),[a,o]=z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new wh(Te.min(),o,new ut(Ve),ts(),ke())}}class $o{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new $o(a,i,ke(),ke(),ke())}}class Hc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class $E{constructor(e,i){this.targetId=e,this.Ce=i}}class JE{constructor(e,i,a=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class B_{constructor(){this.ve=0,this.Fe=q_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),a=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ye(38017,{changeType:c})}})),new $o(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=q_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Cx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ts(),this.He=Oc(),this.Je=Oc(),this.Ze=new ut(Ve)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(cm(c))if(a===0){const d=new me(c.path);this.et(i,d,Jt.newNoDocument(d,Te.min()))}else Fe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(v){if(v instanceof SE)return Fr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Qm(d,o,c)}catch(v){return Fr(v instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const v=new me(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Jt.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=ke();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new wh(e,i,this.Ze,this.je,a);return this.je=ts(),this.He=Oc(),this.Je=Oc(),this.Ze=new ut(Ve),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new B_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Vt(Ve),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Vt(Ve),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new ut(me.comparator)}function q_(){return new ut(me.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Ix={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dx={and:"AND",or:"OR"};class Ox{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(s,e){return ah(s,e.toTimestamp())}function xi(s){return Fe(!!s,49232),Te.fromTimestamp((function(i){const a=Zs(i);return new rt(a.seconds,a.nanos)})(s))}function Km(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function WE(s){const e=st.fromString(s);return Fe(s1(e),10190,{key:e.toString()}),e}function mm(s,e){return Km(s.databaseId,e.path)}function Qd(s,e){const i=WE(e);if(i.get(1)!==s.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(t1(i))}function e1(s,e){return Km(s.databaseId,e)}function Vx(s){const e=WE(s);return e.length===4?st.emptyPath():t1(e)}function pm(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function t1(s){return Fe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function H_(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function kx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),Kt.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Kt.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:XE(y.code);return new fe(A,y.message||"")})(d);i=new JE(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(s,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):Te.min(),p=new fn({mapValue:{fields:a.document.fields}}),v=Jt.newFoundDocument(o,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Hc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Qd(s,a.document),c=a.readTime?xi(a.readTime):Te.min(),d=Jt.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Hc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Qd(s,a.document),c=a.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Ax(o,c),p=a.targetId;i=new $E(p,d)}}return i}function jx(s,e){let i;if(e instanceof Xo)i={update:H_(s,e.key,e.value)};else if(e instanceof Gm)i={delete:mm(s,e.key)};else if(e instanceof sr)i={update:H_(s,e.key,e.data),updateMask:Fx(e.fieldMask)};else{if(!(e instanceof Tx))return ye(16599,{dt:e.type});i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Mx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)})(s,e.precondition)),i}function Ux(s,e){return s&&s.length>0?(Fe(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(Te.min())&&(d=xi(c)),new _x(d,o.transformResults||[])})(i,e)))):[]}function Lx(s,e){return{documents:[e1(s,e.path)]}}function Px(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=e1(s,o);const c=(function(y){if(y.length!==0)return i1(Ni.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:Ga(V.field),direction:qx(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function zx(s){let e=Vx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Fe(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(x){const V=n1(x);return V instanceof Ni&&ME(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((V=>(function(W){return new ih(Fa(W.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let V;return V=typeof x=="object"?x.value:x,_h(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(x){const V=!!x.before,B=x.values||[];return new nh(B,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const V=!x.before,B=x.values||[];return new nh(B,V)})(i.endAt)),ix(e,o,d,c,p,"F",v,y)}function Bx(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function n1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(i.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(Fa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>n1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(s):ye(30097,{filter:s})}function qx(s){return Nx[s]}function Hx(s){return Ix[s]}function Gx(s){return Dx[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Qt.fromServerFormat(s.fieldPath)}function i1(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(I_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(N_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(I_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(N_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:Hx(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const a=i.getFilters().map((o=>i1(o)));return a.length===1?a[0]:{compositeFilter:{op:Gx(i.op),filters:a}}})(s):ye(54877,{filter:s})}function Fx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function s1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function r1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Bs{constructor(e,i,a,o,c=Te.min(),d=Te.min(),p=Kt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qx{constructor(e){this.yt=e}}function Kx(s){const e=zx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}class Yx{constructor(){this.Sn=new Xx}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Js.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Xx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Vt(st.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}const G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(a1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class rl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new rl(0)}static ar(){return new rl(-1)}}const F_="LruGarbageCollector",$x=1048576;function Q_([s,e],[i,a]){const o=Ve(s,i);return o===0?Ve(e,a):o}class Jx{constructor(e){this.Pr=e,this.buffer=new Vt(Q_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Q_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(F_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){dl(i)?re(F_,"Ignoring IndexedDB error during garbage collection: ",i):await fl(i)}await this.Ar(3e5)}))}}class Wx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new Jx(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(G_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,p=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(y=Date.now(),qa()<=Me.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${x} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function eR(s,e){return new Wx(s,e)}class tR{constructor(){this.changes=new Yr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class iR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Oo(a.mutation,o,bn.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ke()){const o=Ur();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Ao();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Ur();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,o){let c=ts();const d=Do(),p=(function(){return Do()})();return i.forEach(((v,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof sr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Oo(A.mutation,y,A.mutation.getFieldMask(),rt.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new nR(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Do();let o=new ut(((d,p)=>d-p)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||bn.empty();A=p.applyToLocalView(y,A),a.set(v,A);const x=(o.get(p.batchId)||ke()).add(v);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,x=BE();A.forEach((V=>{if(!c.has(V)){const B=KE(i.get(V),a.get(V));B!==null&&x.set(V,B),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return sx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):rx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Ur());let p=jo,v=c;return d.next((y=>$.forEach(y,((A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,ke()))).next((A=>({batchId:p,changes:zE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(v=>{const y=(function(x,V){return new Eh(V,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((A=>{A.forEach(((x,V)=>{d=d.insert(x,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Jt.newInvalidDocument(A)))}));let p=Ao();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Oo(A.mutation,y,bn.empty(),rt.now()),bh(i,y)&&(p=p.insert(v,y))})),p}))}}class sR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:xi(o.readTime)}})(i)),$.resolve()}}class rR{constructor(){this.overlays=new ut(me.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Ur();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Ur(),c=i.length+1,d=new me(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ut(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Ur(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Ur(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return $.resolve(p)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Sx(i,a));let c=this.Lr.get(i);c===void 0&&(c=ke(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class aR{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Ym{constructor(){this.kr=new Vt(Lt.Kr),this.qr=new Vt(Lt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Lt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Lt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new me(new st([])),a=new Lt(i,e),o=new Lt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new me(new st([])),a=new Lt(i,e),o=new Lt(i,e+1);let c=ke();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return me.comparator(e.key,i.key)||Ve(e.Hr,i.Hr)}static Ur(e,i){return Ve(e.Hr,i.Hr)||me.comparator(e.key,i.key)}}class lR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Lt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bx(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Lt(i,0),o=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Vt(Ve);return i.forEach((o=>{const c=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;me.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new me(c),0);let p=new Vt(Ve);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Fe(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Lt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Lt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(e){this.ti=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let a=ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ts();const d=i.path,p=new me(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||V2(M2(A),a)<=0||(o.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ye(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new uR(this)}getSize(e){return $.resolve(this.size)}}class uR extends tR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class cR{constructor(e){this.persistence=e,this.ri=new Yr((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=rl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new rl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class l1{constructor(e,i){this._i={},this.overlays={},this.ai=new yh(0),this.ui=!1,this.ui=!0,this.ci=new aR,this.referenceDelegate=e(this),this.li=new cR(this),this.indexManager=new Yx,this.remoteDocumentCache=(function(o){return new oR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Qx(i),this.Pi=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new rR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new lR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const o=new hR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class hR extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Ai=null}static Vi(e){return new Xm(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=me.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.fi=new Yr((a=>P2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=eR(this,i)}static Vi(e,i){return new lh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $m{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=ke(),o=ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $m(e,i.fromCache,a,o)}}class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eS()?8:U2(Zt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fR;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(qa()<=Me.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(qa()<=Me.DEBUG&&re("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(qa()<=Me.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(i))):$.resolve())}gs(e,i){if(V_(i))return $.resolve(null);let a=wi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ke(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(e,hm(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,a,o){return V_(i)||o.isEqual(Te.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?$.resolve(null):(qa()<=Me.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(i)),this.Ds(e,d,i,O2(o,jo)).next((p=>p)))}))}bs(e,i){let a=new Vt(LE(e));return i.forEach(((o,c)=>{bh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return qa()<=Me.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.fs.getDocumentsMatchingQuery(e,i,Js.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",mR=3e8;class pR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new ut(Ve),this.Fs=new Yr((c=>zm(c)),Bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function gR(s,e,i,a){return new pR(s,e,i,a)}async function o1(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=ke();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function yR(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const x=y.batch,V=x.keys();let B=$.resolve();return V.forEach((W=>{B=B.next((()=>A.getEntry(v,W))).next((ee=>{const te=y.docVersions.get(W);Fe(te!==null,48541),ee.version.compareTo(te)<0&&(x.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),A.addEntry(ee)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(v,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function u1(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function _R(s,e){const i=Se(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((A,x)=>{const V=o.get(x);if(!V)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,x))));let B=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?B=B.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),o=o.insert(x,B),(function(ee,te,ue){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=mR?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(V,B,A)&&p.push(i.li.updateTargetData(c,B))}));let v=ts(),y=ke();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(vR(c,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(Te.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=o,c)))}function vR(s,e,i){let a=ke(),o=ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ts();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Te.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):re(Jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function ER(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function TR(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Bs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function gm(s,e,i){const a=Se(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!dl(d))throw d;re(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function K_(s,e,i){const a=Se(s);let o=Te.min(),c=ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const x=Se(v),V=x.Fs.get(A);return V!==void 0?$.resolve(x.vs.get(V)):x.li.getTargetData(y,A)})(a,d,wi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Te.min(),i?c:ke()))).next((p=>(bR(a,lx(e),p),{documents:p,ks:c})))))}function bR(s,e,i){let a=s.Ms.get(e)||Te.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class Y_{constructor(){this.activeTargetIds=dx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.vo=new Y_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Y_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AR{Mo(e){}shutdown(){}}const X_="ConnectivityMonitor";class $_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(X_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(X_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function ym(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Kd="RestConnection",wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class xR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=ym(),p=this.Qo(e,i.toUriEncodedString());re(Kd,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,c);const{host:y}=new URL(p),A=ol(y);return this.zo(e,p,v,a,A).then((x=>(re(Kd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Fr(Kd,`RPC '${e}' ${d} failed with error: `,x,"url: ",p,"request:",a),x}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=wR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class RR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xt="WebChannelConnection",bo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ja extends xR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ja.c_){const e=pE();bo(e,mE.STAT_EVENT,(i=>{i.stat===rm.PROXY?re(Xt,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&re(Xt,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(e,i,a,o,c){const d=ym();return new Promise(((p,v)=>{const y=new fE;y.setWithCredentials(!0),y.listenOnce(dE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const x=y.getResponseJson();re(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),p(x);break;case Pc.TIMEOUT:re(Xt,`RPC '${e}' ${d} timed out`),v(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=y.getStatus();if(re(Xt,`RPC '${e}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const W=B?.error;if(W&&W.status&&W.message){const ee=(function(ue){const pe=ue.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pe)>=0?pe:Z.UNKNOWN})(W.status);v(new fe(ee,W.message))}else v(new fe(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(Xt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);re(Xt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");re(Xt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let x=!1,V=!1;const B=new RR({Ho:W=>{V?re(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(x||(re(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),re(Xt,`RPC '${e}' stream ${o} sending:`,W),A.send(W))},Jo:()=>A.close()});return bo(A,So.EventType.OPEN,(()=>{V||(re(Xt,`RPC '${e}' stream ${o} transport opened.`),B.i_())})),bo(A,So.EventType.CLOSE,(()=>{V||(V=!0,re(Xt,`RPC '${e}' stream ${o} transport closed`),B.o_(),this.E_(A))})),bo(A,So.EventType.ERROR,(W=>{V||(V=!0,Fr(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),B.o_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))})),bo(A,So.EventType.MESSAGE,(W=>{if(!V){const ee=W.data[0];Fe(!!ee,16349);const te=ee,ue=te?.error||te[0]?.error;if(ue){re(Xt,`RPC '${e}' stream ${o} received error:`,ue);const pe=ue.status;let J=(function(he){const C=xt[he];if(C!==void 0)return XE(C)})(pe),le=ue.message;pe==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&Fr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=Z.INTERNAL,le="Unknown error status: "+pe+" with message "+ue.message),V=!0,B.o_(new fe(J,le)),A.close()}else re(Xt,`RPC '${e}' stream ${o} received:`,ee),B.__(ee)}})),Ja.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gE()}}function CR(s){return new Ja(s)}function Yd(){return typeof document<"u"?document:null}function xh(s){return new Ox(s,!0)}Ja.c_=!1;class c1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const J_="PersistentStream";class h1{constructor(e,i,a,o,c,d,p,v){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new fe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(re(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends h1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=kx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?xi(d.readTime):Te.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=cm(v)?{documents:Lx(c,v)}:{query:Px(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ZE(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=Bx(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.K_(i)}}class IR extends h1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ux(e.writeResults,e.commitTime),a=xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=pm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>jx(this.serializer,a)))};this.K_(i)}}class DR{}class OR extends DR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,dm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Z.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,dm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MR(s,e,i,a){return new OR(s,e,i,a)}class VR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class kR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(re(Qr,"Restarting streams for network reachability change."),await(async function(v){const y=Se(v);y.Ea.add(4),await Jo(y),y.Va.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Va=new VR(a,o)}}async function Rh(s){if(Xr(s))for(const e of s.Ra)await e(!0)}async function Jo(s){for(const e of s.Ra)await e(!1)}function f1(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tp(i)?ep(i):ml(i).O_()&&Wm(i,e))}function Zm(s,e){const i=Se(s),a=ml(i);i.Ia.delete(e),a.O_()&&d1(i,e),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Va.set("Unknown"))}function Wm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ml(s).Z_(e)}function d1(s,e){s.da.$e(e),ml(s).X_(e)}function ep(s){s.da=new Cx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ml(s).start(),s.Va.ua()}function tp(s){return Xr(s)&&!ml(s).x_()&&s.Ia.size>0}function Xr(s){return Se(s).Ea.size===0}function m1(s){s.da=void 0}async function jR(s){s.Va.set("Online")}async function UR(s){s.Ia.forEach(((e,i)=>{Wm(s,e)}))}async function LR(s,e){m1(s),tp(s)?(s.Va.ha(e),ep(s)):s.Va.set("Unknown")}async function PR(s,e,i){if(s.Va.set("Online"),e instanceof JE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,e)}catch(a){re(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(s,a)}else if(e instanceof Hc?s.da.Xe(e):e instanceof $E?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const a=await u1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Kt.EMPTY_BYTE_STRING,A.snapshotVersion)),d1(c,v);const x=new Bs(A.target,v,y,A.sequenceNumber);Wm(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){re(Qr,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,e,i){if(!dl(e))throw e;s.Ea.add(1),await Jo(s),s.Va.set("Offline"),i||(i=()=>u1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function p1(s,e){return e().catch((i=>oh(s,i,e)))}async function Ch(s){const e=Se(s),i=tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;zR(e);)try{const o=await ER(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,BR(e,o)}catch(o){await oh(e,o)}g1(e)&&y1(e)}function zR(s){return Xr(s)&&s.Ta.length<10}function BR(s,e){s.Ta.push(e);const i=tr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function g1(s){return Xr(s)&&!tr(s).x_()&&s.Ta.length>0}function y1(s){tr(s).start()}async function qR(s){tr(s).ra()}async function HR(s){const e=tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function GR(s,e,i){const a=s.Ta.shift(),o=Fm.from(a,e,i);await p1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ch(s)}async function FR(s,e){e&&tr(s).Y_&&await(async function(a,o){if((function(d){return wx(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();tr(a).B_(),await p1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(s,e),g1(s)&&y1(s)}async function Z_(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),re(Qr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Jo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function QR(s,e){const i=Se(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Jo(i),i.Va.set("Unknown"))}function ml(s){return s.ma||(s.ma=(function(i,a,o){const c=Se(i);return c.sa(),new NR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:jR.bind(null,s),Yo:UR.bind(null,s),t_:LR.bind(null,s),J_:PR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),tp(s)?ep(s):s.Va.set("Unknown")):(await s.ma.stop(),m1(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(i,a,o){const c=Se(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:qR.bind(null,s),t_:FR.bind(null,s),ta:HR.bind(null,s),na:GR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(re(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class np{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,p=new np(e,i,d,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(s,e){if(es("AsyncQueue",`${e}: ${s}`),dl(s))return new fe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||me.comparator(i.key,a.key):(i,a)=>me.comparator(i.key,a.key),this.keyedMap=Ao(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Za;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class W_{constructor(){this.ga=new ut(me.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class al{constructor(e,i,a,o,c,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new al(e,i,Za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class KR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class YR{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Se(i),c=o.queries;o.queries=ev(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function ev(){return new Yr((s=>UE(s)),Th)}async function XR(s,e){const i=Se(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new KR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ip(d,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sp(i)}async function $R(s,e){const i=Se(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JR(s,e){const i=Se(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&sp(i)}function ZR(s,e,i){const a=Se(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function sp(s){s.Ca.forEach((e=>{e.next()}))}var _m,tv;(tv=_m||(_m={})).Ma="default",tv.Cache="cache";class WR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new al(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class _1{constructor(e){this.key=e}}class v1{constructor(e){this.key=e}}class eC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=LE(e),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new W_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,x)=>{const V=o.get(A),B=bh(this.query,x)?x:null,W=!!V&&this.mutatedKeys.has(V.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let te=!1;V&&B?V.data.isEqual(B.data)?W!==ee&&(a.track({type:3,doc:B}),te=!0):this.su(V,B)||(a.track({type:2,doc:B}),te=!0,(v&&this.eu(B,v)>0||y&&this.eu(B,y)<0)&&(p=!0)):!V&&B?(a.track({type:0,doc:B}),te=!0):V&&!B&&(a.track({type:1,doc:V}),te=!0,(v||y)&&(p=!0)),te&&(B?(d=d.add(B),c=ee?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(B,W){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:te})}};return ee(B)-ee(W)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new al(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new v1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new _1(a))})),i}cu(e){this.Za=e.ks,this.Ya=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rp="SyncEngine";class tC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nC{constructor(e){this.key=e,this.hu=!1}}class iC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>UE(p)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(me.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=rl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sC(s,e,i=!0){const a=w1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await E1(a,e,i,!0),o}async function rC(s,e){const i=w1(s);await E1(i,e,!0,!1)}async function E1(s,e,i,a){const o=await TR(s.localStore,wi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await aC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&f1(s.remoteStore,o),p}async function aC(s,e,i,a,o){s.pu=(x,V,B)=>(async function(ee,te,ue,pe){let J=te.view.ru(ue);J.Ss&&(J=await K_(ee.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,J))));const le=pe&&pe.targetChanges.get(te.targetId),_e=pe&&pe.targetMismatches.get(te.targetId)!=null,he=te.view.applyChanges(J,ee.isPrimaryClient,le,_e);return iv(ee,te.targetId,he.au),he.snapshot})(s,x,V,B);const c=await K_(s.localStore,e,!0),d=new eC(e,c.ks),p=d.ru(c.documents),v=$o.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,v);iv(s,i,y.au);const A=new tC(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function lC(s,e,i){const a=Se(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Th(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Zm(a.remoteStore,o.targetId),vm(a,o.targetId)})).catch(fl)):(vm(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function oC(s,e){const i=Se(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function uC(s,e,i){const a=gC(s);try{const o=await(function(d,p){const v=Se(d),y=rt.now(),A=p.reduce(((B,W)=>B.add(W.key)),ke());let x,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let W=ts(),ee=ke();return v.xs.getEntries(B,A).next((te=>{W=te,W.forEach(((ue,pe)=>{pe.isValidDocument()||(ee=ee.add(ue))}))})).next((()=>v.localDocuments.getOverlayedDocuments(B,W))).next((te=>{x=te;const ue=[];for(const pe of p){const J=Ex(pe,x.get(pe.key).overlayedDocument);J!=null&&ue.push(new sr(pe.key,J,IE(J.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(B,y,ue,p)})).next((te=>{V=te;const ue=te.applyToLocalDocumentSet(x,ee);return v.documentOverlayCache.saveOverlays(B,te.batchId,ue)}))})).then((()=>({batchId:V.batchId,changes:zE(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,o.batchId,i),await Zo(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=ip(o,"Failed to persist write");i.reject(c)}}async function T1(s,e){const i=Se(s);try{const a=await _R(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Fe(d.hu,14607):o.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await Zo(i,a,e)}catch(a){await fl(a)}}function nv(s,e,i){const a=Se(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Se(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,x)=>{for(const V of x.ba)V.va(p)&&(y=!0)})),y&&sp(v)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cC(s,e,i){const a=Se(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ut(me.comparator);d=d.insert(c,Jt.newNoDocument(c,Te.min()));const p=ke().add(c),v=new wh(Te.min(),new Map,new ut(Ve),d,p);await T1(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(e),ap(a)}else await gm(a.localStore,e,!1).then((()=>vm(a,e,i))).catch(fl)}async function hC(s,e){const i=Se(s),a=e.batch.batchId;try{const o=await yR(i.localStore,e);S1(i,a,null),b1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zo(i,o)}catch(o){await fl(o)}}async function fC(s,e,i){const a=Se(s);try{const o=await(function(d,p){const v=Se(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((x=>(Fe(x!==null,37113),A=x.keys(),v.mutationQueue.removeMutationBatch(y,x)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);S1(a,e,i),b1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Zo(a,o)}catch(o){await fl(o)}}function b1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function S1(s,e,i){const a=Se(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||A1(s,a)}))}function A1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Zm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),ap(s))}function iv(s,e,i){for(const a of i)a instanceof _1?(s.Vu.addReference(a.key,e),dC(s,a)):a instanceof v1?(re(rp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||A1(s,a.key)):ye(19791,{wu:a})}function dC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(re(rp,"New document in limbo: "+i),s.Eu.add(a),ap(s))}function ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(st.fromString(e)),a=s.fu.next();s.Au.set(a,new nC(i)),s.Ru=s.Ru.insert(i,a),f1(s.remoteStore,new Bs(wi(qm(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function Zo(s,e,i){const a=Se(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=$m.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,y){const A=Se(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(y,(V=>$.forEach(V.Ts,(B=>A.persistence.referenceDelegate.addReference(x,V.targetId,B))).next((()=>$.forEach(V.Is,(B=>A.persistence.referenceDelegate.removeReference(x,V.targetId,B)))))))))}catch(x){if(!dl(x))throw x;re(Jm,"Failed to update sequence numbers: "+x)}for(const x of y){const V=x.targetId;if(!x.fromCache){const B=A.vs.get(V),W=B.snapshotVersion,ee=B.withLastLimboFreeSnapshotVersion(W);A.vs=A.vs.insert(V,ee)}}})(a.localStore,c))}async function mC(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){re(rp,"User change. New user:",e.toKey());const a=await o1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new fe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Zo(i,a.Ns)}}function pC(s,e){const i=Se(s),a=i.Au.get(e);if(a&&a.hu)return ke().add(a.key);{let o=ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function w1(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cC.bind(null,e),e.Pu.J_=JR.bind(null,e.eventManager),e.Pu.yu=ZR.bind(null,e.eventManager),e}function gC(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return gR(this.persistence,new dR,e.initialUser,this.serializer)}Cu(e){return new l1(Xm.Vi,this.serializer)}Du(e){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class yC extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Zx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new l1((a=>lh.Vi(a,i)),this.serializer)}}class Em{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>nv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),await QR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YR})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=CR(e.databaseInfo);return MR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,p){return new kR(a,o,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>nv(this.syncEngine,i,0)),(function(){return $_.v()?new $_:new AR})())}createSyncEngine(e,i){return(function(o,c,d,p,v,y,A){const x=new iC(o,c,d,p,v,y);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Se(i);re(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class _C{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const nr="FirestoreClient";class vC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),re(nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await o1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function sv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await EC(s);re(nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Z_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Z_(e.remoteStore,o))),s._onlineComponents=e}async function EC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(nr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Fr("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new uh)}}else re(nr,"Using default OfflineComponentProvider"),await Xd(s,new yC(void 0));return s._offlineComponents}async function x1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(nr,"Using user provided OnlineComponentProvider"),await sv(s,s._uninitializedComponentsProvider._online)):(re(nr,"Using default OnlineComponentProvider"),await sv(s,new Em))),s._onlineComponents}function TC(s){return x1(s).then((e=>e.syncEngine))}async function rv(s){const e=await x1(s),i=e.eventManager;return i.onListen=sC.bind(null,e.syncEngine),i.onUnlisten=lC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=rC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,e.syncEngine),i}function bC(s,e,i,a){const o=new _C(a),c=new WR(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>XR(await rv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>$R(await rv(s),c)))}}function SC(s,e){const i=new Lr;return s.asyncQueue.enqueueAndForget((async()=>uC(await TC(s),e,i))),i.promise}function R1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const AC="ComponentProvider",av=new Map;function wC(s,e,i,a,o){return new q2(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,R1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const C1="firestore.googleapis.com",lv=!0;class ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C1,this.ssl=lv}else this.host=e.host,this.ssl=e.ssl??lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$x)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new T2;switch(a.type){case"firstParty":return new w2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=av.get(i);a&&(re(AC,"Removing Datastore"),av.delete(i),a.terminate())})(this),Promise.resolve()}}function xC(s,e,i,a={}){s=Ks(s,Nh);const o=ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(wv(`https://${p}`),xv("Firestore",!0)),c.host!==C1&&c.host!==p&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Br(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=$t.MOCK_USER;else{y=Fb(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(x)}s._authCredentials=new b2(new _E(y,A))}}class Ih{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ih(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Yo(i,Mt._jsonSchema))return new Mt(e,a||null,new me(st.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Rt("string",Mt._jsonSchemaVersion),referencePath:Rt("string")};class Ys extends Ih{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new me(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Wa(s,e,...i){if(s=Wt(s),vE("collection","path",e),s instanceof Nh){const a=st.fromString(e,...i);return T_(a),new Ys(s,null,a)}{if(!(s instanceof Mt||s instanceof Ys))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...i));return T_(a),new Ys(s.firestore,null,a)}}function bi(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=km.newId()),vE("doc","path",e),s instanceof Nh){const a=st.fromString(e,...i);return E_(a),new Mt(s,null,new me(a))}{if(!(s instanceof Mt||s instanceof Ys))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...i));return E_(a),new Mt(s.firestore,s instanceof Ys?s.converter:null,new me(a))}}const uv="AsyncQueue";class cv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c1(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&re(uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;re(uv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",hv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=np.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function hv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ll extends Nh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new cv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function RC(s,e){const i=typeof s=="object"?s:Iv(),a=typeof s=="string"?s:eh,o=xm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Hb("firestore");c&&xC(o,...c)}return o}function N1(s){if(s._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CC(s),s._firestoreClient}function CC(s){const e=s._freezeSettings(),i=wC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new vC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(i){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yo(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Rt("string",jn._jsonSchemaVersion),bytes:Rt("string")};class lp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._methodName=e}}class Ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(Yo(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Rt("string",Ri._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Zn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yo(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zn(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Rt("string",Zn._jsonSchemaVersion),vectorValues:Rt("object")};const NC=/^__.*__$/;class IC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xo(e,this.data,i,this.fieldTransforms)}}class I1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function D1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:s})}}class up{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new up({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ch(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(D1(this.dataSource)&&NC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}createContext(e,i,a,o=!1){return new up({dataSource:e,methodName:i,targetDoc:a,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O1(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new DC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function OC(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);cp("Data must be an object, but it was:",d,a);const p=M1(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const x of c.mergeFields){const V=qo(e,x,i);if(!d.contains(V))throw new fe(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);j1(A,V)||A.push(V)}v=new bn(A),y=d.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,y=d.fieldTransforms;return new IC(new fn(p),v,y)}class Dh extends op{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function MC(s,e,i,a){const o=s.createContext(1,e,i);cp("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();ir(a,((v,y)=>{const A=k1(e,v,i);y=Wt(y);const x=o.childContextForFieldPath(A);if(y instanceof Dh)c.push(A);else{const V=Oh(y,x);V!=null&&(c.push(A),d.set(A,V))}}));const p=new bn(c);return new I1(d,p,o.fieldTransforms)}function VC(s,e,i,a,o,c){const d=s.createContext(1,e,i),p=[qo(e,a,i)],v=[o];if(c.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(qo(e,c[V])),v.push(c[V+1]);const y=[],A=fn.empty();for(let V=p.length-1;V>=0;--V)if(!j1(y,p[V])){const B=p[V];let W=v[V];W=Wt(W);const ee=d.childContextForFieldPath(B);if(W instanceof Dh)y.push(B);else{const te=Oh(W,ee);te!=null&&(y.push(B),A.set(B,te))}}const x=new bn(y);return new I1(A,x,d.fieldTransforms)}function Oh(s,e){if(V1(s=Wt(s)))return cp("Unsupported field value:",e,s),M1(s,e);if(s instanceof op)return(function(a,o){if(!D1(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=Oh(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return mx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:ah(o.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:ZE(o.serializer,a._byteString)};if(a instanceof Mt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[CE]:{stringValue:NE},[th]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Hm(p.serializer,A)}))}}}}}})(a,o);if(r1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${jm(a)}`)})(s,e)}function M1(s,e){const i={};return bE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ir(s,((a,o)=>{const c=Oh(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function V1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof Ri||s instanceof jn||s instanceof Mt||s instanceof op||s instanceof Zn||r1(s))}function cp(s,e,i){if(!V1(i)||!EE(i)){const a=jm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function qo(s,e,i){if((e=Wt(e))instanceof lp)return e._internalPath;if(typeof e=="string")return k1(s,e);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const kC=new RegExp("[~\\*/\\[\\]]");function k1(s,e,i){if(e.search(kC)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lp(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new fe(Z.INVALID_ARGUMENT,p+s+v)}function j1(s,e){return s.some((i=>i.isEqual(e)))}class jC{convertValue(e,i="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[th].arrayValue?.values?.map((a=>gt(a.doubleValue)));return new Zn(i)}convertGeoPoint(e){return new Ri(gt(e.latitude),gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const i=Zs(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=st.fromString(e);Fe(s1(a),9688,{name:e});const o=new Lo(a.get(1),a.get(3)),c=new me(a.popFirst(5));return o.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class U1 extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}const fv="@firebase/firestore",dv="4.11.0";function mv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class L1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(qo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends L1{data(){return super.data()}}function LC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function PC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends L1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Rt("string",Pr._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Gc extends Pr{data(e={}){return super.data(e)}}class el{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Gc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:zC(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=el._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}el._jsonSchemaVersion="firestore/querySnapshot/1.0",el._jsonSchema={type:Rt("string",el._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};function Ka(s,e,i,...a){s=Ks(s,Mt);const o=Ks(s.firestore,ll),c=O1(o);let d;return d=typeof(e=Wt(e))=="string"||e instanceof lp?VC(c,"updateDoc",s._key,e,i,a):MC(c,"updateDoc",s._key,e),hp(o,[d.toMutation(s._key,Jn.exists(!0))])}function Tm(s){return hp(Ks(s.firestore,ll),[new Gm(s._key,Jn.none())])}function bm(s,e){const i=Ks(s.firestore,ll),a=bi(s),o=PC(s.converter,e),c=O1(s.firestore);return hp(i,[OC(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function $d(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||mv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(mv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Mt)d=Ks(s.firestore,ll),p=qm(s._key.path),c={next:y=>{e[a]&&e[a](BC(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Ks(s,Ih);d=Ks(y.firestore,ll),p=y._query;const A=new U1(d);c={next:x=>{e[a]&&e[a](new el(d,A,y,x))},error:e[a+1],complete:e[a+2]},LC(s._query)}const v=N1(d);return bC(v,p,o,c)}function hp(s,e){const i=N1(s);return SC(i,e)}function BC(s,e,i){const a=i.docs.get(e._key),o=new U1(s);return new Pr(s,o,e._key,a,new xo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){E2(ul),tl(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ll(new S2(a.getProvider("auth-internal")),new x2(d,a.getProvider("app-check-internal")),H2(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(fv,dv,e),Gs(fv,dv,"esm2020")})();const P1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const qC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const HC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const pv=s=>{const e=HC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const QC=Ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>Ce.createElement("svg",{ref:v,...GC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:P1("lucide",o),...!c&&!FC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ce.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Ct=(s,e)=>{const i=Ce.forwardRef(({className:a,...o},c)=>Ce.createElement(QC,{ref:c,iconNode:e,className:P1(`lucide-${qC(pv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=pv(s),i};const KC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z1=Ct("check",KC);const YC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],B1=Ct("coffee",YC);const XC=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],q1=Ct("crown",XC);const $C=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Mo=Ct("dices",$C);const JC=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ZC=Ct("dumbbell",JC);const WC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],H1=Ct("history",WC);const eN=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],G1=Ct("list-todo",eN);const tN=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],nN=Ct("monitor-play",tN);const iN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gv=Ct("pen",iN);const sN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rN=Ct("refresh-cw",sN);const aN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],F1=Ct("search",aN);const lN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q1=Ct("settings",lN);const oN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],uN=Ct("shield-alert",oN);const cN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zr=Ct("star",cN);const hN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],K1=Ct("target",hN);const fN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yv=Ct("trash-2",fN);const dN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Kr=Ct("trophy",dN);const mN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pN=Ct("user-plus",mN);const gN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fp=Ct("x",gN);const yN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xs=Ct("zap",yN),_N={apiKey:"AIzaSyBkGBYBGqpcWfPIKpwPCfT7g0z29AZ8Bso",authDomain:"house-olympics.firebaseapp.com",projectId:"house-olympics",storageBucket:"house-olympics.firebasestorage.app",messagingSenderId:"634963412273",appId:"1:634963412273:web:6b453fee04a433db231c10"},Y1=Nv(_N),_v=_2(Y1),za=RC(Y1),Ba="my-house-olympics";function hh(s,e=24,i=""){return s?s.type==="challenge"?E.jsx(zr,{size:e,className:i}):s.type==="break"?E.jsx(B1,{size:e,className:i}):s.type==="game"?s.category==="sport"?E.jsx(ZC,{size:e,className:i}):s.category==="video_game"?E.jsx(nN,{size:e,className:i}):E.jsx(Mo,{size:e,className:i}):E.jsx(Mo,{size:e,className:i}):E.jsx(Mo,{size:e,className:i})}function vN(){const[s,e]=Ce.useState(null),[i,a]=Ce.useState("active"),[o,c]=Ce.useState([]),[d,p]=Ce.useState([]),[v,y]=Ce.useState([]),[A,x]=Ce.useState(null),[V,B]=Ce.useState(!0),[W,ee]=Ce.useState(""),[te,ue]=Ce.useState(null),[pe,J]=Ce.useState(null),[le,_e]=Ce.useState(null);return Ce.useEffect(()=>{(async()=>{try{await tw(_v)}catch(T){console.error("Auth error:",T),ee("Failed to authenticate. Retrying...")}})();const C=lw(_v,T=>{e(T)});return()=>C()},[]),Ce.useEffect(()=>{if(!s)return;const he=Wa(za,"artifacts",Ba,"public","data","players"),C=Wa(za,"artifacts",Ba,"public","data","events"),T=Wa(za,"artifacts",Ba,"public","data","sessions"),w=$d(he,k=>{c(k.docs.map(R=>({id:R.id,...R.data()})))},k=>ee("Error loading players")),I=$d(C,k=>{p(k.docs.map(R=>({id:R.id,...R.data()})))},k=>ee("Error loading events")),D=$d(T,k=>{const R=k.docs.map($e=>({id:$e.id,...$e.data()}));R.sort(($e,F)=>F.createdAt-$e.createdAt),y(R);const Qe=R.find($e=>$e.status==="active");x(Qe||null),Qe&&a("active"),B(!1)},k=>ee("Error loading sessions"));return()=>{w(),I(),D()}},[s]),V?E.jsx("div",{className:"min-h-screen bg-indigo-50 flex items-center justify-center p-4",children:E.jsx("div",{className:"animate-spin text-indigo-600",children:E.jsx(rN,{size:48})})}):E.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col font-sans text-slate-800",children:[E.jsxs("header",{className:"bg-indigo-600 text-white p-4 shadow-md flex justify-between items-center z-10 relative",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Kr,{className:"text-yellow-400",size:28}),E.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"House Olympics"})]}),A&&E.jsxs("div",{className:"text-xs bg-indigo-800 px-3 py-1 rounded-full animate-pulse flex items-center gap-1 font-semibold",children:[E.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})," LIVE"]})]}),E.jsxs("main",{className:"flex-1 overflow-y-auto p-4 pb-24",children:[W&&E.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[E.jsx("span",{children:W}),E.jsx("button",{onClick:()=>ee(""),children:E.jsx(fp,{size:16})})]}),i==="dashboard"&&E.jsx(EN,{players:o,sessions:v}),i==="library"&&E.jsx(TN,{players:o,events:d,db:za,appId:Ba,setConfirmDialog:_e}),i==="setup"&&E.jsx(bN,{players:o,events:d,db:za,appId:Ba,setActiveTab:a}),i==="active"&&A&&E.jsx(SN,{session:A,db:za,appId:Ba,players:o,setPowerupModal:ue,setChampionModal:J,setConfirmDialog:_e}),i==="active"&&!A&&E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 mt-10 animate-in fade-in duration-500",children:[E.jsx(Kr,{size:72,className:"text-slate-300 mb-6 drop-shadow-sm"}),E.jsx("h2",{className:"text-3xl font-black text-slate-700 mb-2",children:"No Active Olympics"}),E.jsx("p",{className:"text-slate-500 mb-8 font-medium",children:"Gather the competitors and prepare for glory!"}),E.jsxs("button",{onClick:()=>a("setup"),className:"bg-indigo-600 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl hover:bg-indigo-700 active:scale-95 transition-all flex items-center gap-3",children:[E.jsx(Xs,{size:24,className:"fill-white"})," Start New Session"]})]})]}),E.jsxs("nav",{className:"bg-white border-t border-slate-200 fixed bottom-0 w-full flex justify-around p-2 pb-safe z-20 shadow-[0_-10px_15px_-3px_rgba(0,0,0,0.05)]",children:[E.jsx(Vc,{active:i==="active",onClick:()=>a("active"),icon:E.jsx(Xs,{size:22}),label:"Live",pulse:!!A}),E.jsx(Vc,{active:i==="dashboard",onClick:()=>a("dashboard"),icon:E.jsx(H1,{size:22}),label:"Stats"}),E.jsx(Vc,{active:i==="library",onClick:()=>a("library"),icon:E.jsx(G1,{size:22}),label:"Library"}),!A&&E.jsx(Vc,{active:i==="setup",onClick:()=>a("setup"),icon:E.jsx(Q1,{size:22}),label:"Setup"})]}),te&&E.jsx(AN,{data:te,onClose:()=>ue(null)}),pe&&E.jsx(wN,{data:pe,onClose:()=>J(null)}),le&&E.jsx(xN,{data:le,onClose:()=>_e(null)})]})}function Vc({active:s,onClick:e,icon:i,label:a,pulse:o}){return E.jsxs("button",{onClick:e,className:`flex flex-col items-center justify-center w-16 h-14 transition-colors rounded-xl ${s?"text-indigo-600 bg-indigo-50":"text-slate-400 hover:text-indigo-400 hover:bg-slate-50"}`,children:[E.jsxs("div",{className:"relative",children:[i,o&&!s&&E.jsxs("span",{className:"absolute top-0 right-0 flex h-3 w-3 -mt-1 -mr-1",children:[E.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),E.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),E.jsx("span",{className:"text-[10px] font-bold mt-1",children:a})]})}function EN({players:s,sessions:e}){const i=[...s].sort((o,c)=>(c.lifetimePointsChamps||0)-(o.lifetimePointsChamps||0)||(c.lifetimeTotalPoints||0)-(o.lifetimeTotalPoints||0)),a=e.filter(o=>o.status==="completed");return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[E.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-4",children:E.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2 drop-shadow-sm",children:[E.jsx(q1,{size:24,className:"fill-white"})," Hall of Fame"]})}),E.jsx("div",{className:"p-4",children:i.length===0?E.jsx("p",{className:"text-slate-500 italic text-sm text-center py-4",children:"No players yet. Add them in the Library."}):E.jsx("div",{className:"space-y-3",children:i.map((o,c)=>E.jsxs("div",{className:"flex flex-col p-3 bg-slate-50 rounded-2xl border border-slate-100",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm shadow-sm ${c===0?"bg-gradient-to-br from-yellow-300 to-yellow-500 text-yellow-900 ring-2 ring-yellow-200":c===1?"bg-gradient-to-br from-slate-200 to-slate-400 text-slate-800":c===2?"bg-gradient-to-br from-orange-300 to-orange-500 text-orange-900":"bg-white text-slate-600 border"}`,children:c+1}),E.jsx("span",{className:"font-bold text-slate-800 text-lg",children:o.name})]}),E.jsxs("div",{className:"flex gap-3 text-sm",children:[E.jsxs("div",{className:"flex flex-col items-center bg-indigo-50 px-2 py-1 rounded-lg",children:[E.jsx("span",{className:"text-indigo-400 text-[10px] uppercase font-bold",children:"Champs"}),E.jsx("span",{className:"font-black text-indigo-700 flex items-center gap-1",children:o.lifetimePointsChamps||0})]}),E.jsxs("div",{className:"flex flex-col items-center bg-yellow-50 px-2 py-1 rounded-lg",children:[E.jsx("span",{className:"text-yellow-600 text-[10px] uppercase font-bold",children:"Stars"}),E.jsx("span",{className:"font-black text-yellow-700 flex items-center gap-1",children:o.lifetimeStarsChamps||0})]})]})]}),E.jsxs("div",{className:"flex justify-between text-xs text-slate-500 bg-white p-2 rounded-xl border border-slate-100",children:[E.jsxs("span",{className:"font-medium",children:["Total Pts: ",E.jsx("b",{className:"text-slate-700",children:o.lifetimeTotalPoints||0})]}),E.jsxs("span",{className:"font-medium",children:["Total Stars: ",E.jsx("b",{className:"text-slate-700",children:o.lifetimeTotalStars||0})]}),E.jsxs("span",{className:"font-medium",children:["Game Wins: ",E.jsx("b",{className:"text-slate-700",children:o.lifetimeGameWins||0})]})]})]},o.id))})})]}),E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5",children:[E.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(H1,{className:"text-indigo-500"})," Past Olympics"]}),a.length===0?E.jsx("p",{className:"text-slate-500 italic text-sm text-center py-4",children:"No completed sessions yet."}):E.jsx("div",{className:"space-y-3",children:a.map(o=>E.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 transition-colors hover:bg-slate-100",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight",children:o.name}),E.jsx("span",{className:"text-xs font-semibold text-slate-400 bg-white px-2 py-1 rounded-lg shadow-sm",children:new Date(o.createdAt).toLocaleDateString()})]}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsxs("div",{className:"bg-indigo-100 text-indigo-800 px-3 py-1.5 rounded-xl text-sm font-medium flex items-center gap-1.5 shadow-sm",children:[E.jsx(Kr,{size:14,className:"text-indigo-600"})," Champ: ",E.jsx("b",{className:"font-black",children:s.find(c=>c.id===o.pointsChampId)?.name||"Unknown"})]}),o.starsChampId&&E.jsxs("div",{className:"bg-yellow-100 text-yellow-800 px-3 py-1.5 rounded-xl text-sm font-medium flex items-center gap-1.5 shadow-sm",children:[E.jsx(zr,{size:14,className:"fill-yellow-500 text-yellow-600"})," Stars: ",E.jsx("b",{className:"font-black",children:s.find(c=>c.id===o.starsChampId)?.name||"Unknown"})]})]})]},o.id))})]})]})}function TN({players:s,events:e,db:i,appId:a,setConfirmDialog:o}){const[c,d]=Ce.useState(null),[p,v]=Ce.useState(""),[y,A]=Ce.useState(""),[x,V]=Ce.useState(null),[B,W]=Ce.useState({name:"",type:"game",category:"game",powerups:[],description:""}),[ee,te]=Ce.useState(""),[ue,pe]=Ce.useState("all"),[J,le]=Ce.useState(""),[_e,he]=Ce.useState("a-z"),C=async z=>{z.preventDefault(),y.trim()&&(await bm(Wa(i,"artifacts",a,"public","data","players"),{name:y.trim(),lifetimePointsChamps:0,lifetimeStarsChamps:0,lifetimeGameWins:0,lifetimeChallengeWins:0,lifetimeTotalPoints:0,lifetimeTotalStars:0}),A(""))},T=z=>{d(z.id),v(z.name)},w=async z=>{if(!p.trim())return d(null);await Ka(bi(i,"artifacts",a,"public","data","players",z),{name:p.trim()}),d(null)},I=z=>{o({title:"Delete Player",message:`Are you sure you want to delete ${z.name}? This will permanently remove all their lifetime stats.`,confirmText:"Delete",confirmStyle:"danger",onConfirm:async()=>{await Tm(bi(i,"artifacts",a,"public","data","players",z.id))}})},D=z=>{V(z.id),W({name:z.name,type:z.type,category:z.category||"game",powerups:z.powerups||[],description:z.description||""}),window.scrollTo({top:document.getElementById("event-form").offsetTop-20,behavior:"smooth"})},k=()=>{V(null),W({name:"",type:"game",category:"game",powerups:[],description:""}),te("")},R=()=>{ee.trim()&&(W(z=>({...z,powerups:[...z.powerups,ee.trim()]})),te(""))},Qe=z=>{W(se=>({...se,powerups:se.powerups.filter((Ue,qe)=>qe!==z)}))},$e=async z=>{if(z.preventDefault(),!B.name.trim())return;const se={name:B.name.trim(),type:B.type,category:B.type==="game"?B.category:null,powerups:B.type==="game"?B.powerups:[],description:B.type==="challenge"?B.description.trim():""};x?await Ka(bi(i,"artifacts",a,"public","data","events",x),se):await bm(Wa(i,"artifacts",a,"public","data","events"),se),k()},F=z=>{o({title:"Delete Event",message:`Are you sure you want to remove '${z.name}' from the event pool?`,confirmText:"Delete",confirmStyle:"danger",onConfirm:async()=>{await Tm(bi(i,"artifacts",a,"public","data","events",z.id)),x===z.id&&k()}})};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-10",children:[E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5",children:[E.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2 text-slate-800",children:[E.jsx(pN,{className:"text-indigo-500"})," Manage Roster"]}),E.jsxs("form",{onSubmit:C,className:"flex gap-2 mb-4",children:[E.jsx("input",{type:"text",placeholder:"New Player Name",className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:y,onChange:z=>A(z.target.value)}),E.jsx("button",{type:"submit",disabled:!y.trim(),className:"bg-indigo-600 text-white px-5 py-3 rounded-xl font-bold hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:"Add"})]}),E.jsxs("div",{className:"space-y-2",children:[s.map(z=>E.jsxs("div",{className:"bg-slate-50 border border-slate-100 p-2 rounded-xl flex items-center justify-between",children:[c===z.id?E.jsxs("div",{className:"flex flex-1 gap-2 mr-2",children:[E.jsx("input",{autoFocus:!0,type:"text",className:"flex-1 bg-white border border-indigo-300 rounded-lg px-3 py-1.5 text-sm font-bold focus:outline-none",value:p,onChange:se=>v(se.target.value),onKeyDown:se=>se.key==="Enter"&&w(z.id)}),E.jsx("button",{onClick:()=>w(z.id),className:"bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg text-sm font-bold",children:"Save"})]}):E.jsx("span",{className:"font-bold text-slate-700 ml-2",children:z.name}),!c&&E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{onClick:()=>T(z),className:"p-2 text-slate-400 hover:text-indigo-500 transition-colors",children:E.jsx(gv,{size:16})}),E.jsx("button",{onClick:()=>I(z),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:E.jsx(yv,{size:16})})]})]},z.id)),s.length===0&&E.jsx("span",{className:"text-slate-400 text-sm italic block text-center py-2",children:"No players added."})]})]}),E.jsxs("div",{id:"event-form",className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5 ring-1 ring-slate-100",children:[E.jsxs("h2",{className:"text-xl font-black mb-4 flex items-center gap-2 text-slate-800",children:[E.jsx(Mo,{className:"text-indigo-500"})," ",x?"Edit Event":"Add to Event Pool"]}),E.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Event Type"}),E.jsxs("div",{className:"flex gap-2 mt-1.5",children:[E.jsx("button",{type:"button",onClick:()=>W({...B,type:"game"}),className:`flex-1 py-2.5 rounded-xl text-sm font-bold transition-all ${B.type==="game"?"bg-indigo-600 text-white shadow-md":"bg-slate-50 text-slate-500 border border-slate-200"}`,children:"Game"}),E.jsx("button",{type:"button",onClick:()=>W({...B,type:"challenge"}),className:`flex-1 py-2.5 rounded-xl text-sm font-bold transition-all ${B.type==="challenge"?"bg-yellow-500 text-white shadow-md":"bg-slate-50 text-slate-500 border border-slate-200"}`,children:"Challenge"}),E.jsx("button",{type:"button",onClick:()=>W({...B,type:"break"}),className:`flex-1 py-2.5 rounded-xl text-sm font-bold transition-all ${B.type==="break"?"bg-emerald-500 text-white shadow-md":"bg-slate-50 text-slate-500 border border-slate-200"}`,children:"Break"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Event Name"}),E.jsx("input",{type:"text",placeholder:B.type==="game"?"e.g. Mario Kart, Poker":B.type==="challenge"?"e.g. One-Leg Stand":"e.g. Snack Time",className:"w-full mt-1.5 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500",value:B.name,onChange:z=>W({...B,name:z.target.value})})]}),B.type==="game"&&E.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Game Category"}),E.jsxs("div",{className:"flex gap-2 mt-1.5 mb-2",children:[E.jsx("button",{type:"button",onClick:()=>W({...B,category:"sport"}),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${B.category==="sport"?"bg-indigo-100 text-indigo-700 border-2 border-indigo-500":"bg-white text-slate-500 border border-slate-200"}`,children:"Sport"}),E.jsx("button",{type:"button",onClick:()=>W({...B,category:"game"}),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${B.category==="game"?"bg-indigo-100 text-indigo-700 border-2 border-indigo-500":"bg-white text-slate-500 border border-slate-200"}`,children:"Game"}),E.jsx("button",{type:"button",onClick:()=>W({...B,category:"video_game"}),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${B.category==="video_game"?"bg-indigo-100 text-indigo-700 border-2 border-indigo-500":"bg-white text-slate-500 border border-slate-200"}`,children:"Video Game"})]})]}),B.type==="challenge"&&E.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Challenge Description (Optional)"}),E.jsx("textarea",{placeholder:"Explain the rules of the challenge...",className:"w-full mt-1.5 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none h-24",value:B.description,onChange:z=>W({...B,description:z.target.value})})]}),B.type==="game"&&E.jsxs("div",{className:"bg-orange-50/50 p-4 rounded-xl border border-orange-100 animate-in fade-in slide-in-from-top-2",children:[E.jsxs("label",{className:"text-xs font-bold text-orange-800 uppercase tracking-wider flex items-center gap-1.5 mb-2",children:[E.jsx(Xs,{size:14,className:"fill-orange-400"})," Game Power-Ups"]}),E.jsxs("div",{className:"flex gap-2 mb-3",children:[E.jsx("input",{type:"text",placeholder:"e.g. Play blindfolded, +5 extra points",className:"flex-1 bg-white border border-orange-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-400",value:ee,onChange:z=>te(z.target.value),onKeyDown:z=>z.key==="Enter"&&(z.preventDefault(),R())}),E.jsx("button",{type:"button",onClick:R,disabled:!ee.trim(),className:"bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-bold disabled:opacity-50",children:"Add"})]}),B.powerups.length>0?E.jsx("ul",{className:"space-y-1.5",children:B.powerups.map((z,se)=>E.jsxs("li",{className:"flex justify-between items-center text-sm bg-white border border-orange-100 px-3 py-2 rounded-lg text-slate-700 shadow-sm",children:[E.jsx("span",{className:"font-medium",children:z}),E.jsx("button",{type:"button",onClick:()=>Qe(se),className:"text-red-400 hover:text-red-600 p-1",children:E.jsx(fp,{size:14})})]},se))}):E.jsx("div",{className:"text-xs text-orange-600/70 italic text-center py-2",children:"No power-ups defined for this game yet."})]}),E.jsxs("div",{className:"flex gap-2 pt-2",children:[x&&E.jsx("button",{type:"button",onClick:k,className:"flex-1 bg-slate-100 text-slate-600 py-3 rounded-xl font-bold transition-colors hover:bg-slate-200",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!B.name.trim(),className:"flex-[2] bg-slate-800 text-white py-3 rounded-xl font-bold shadow-md hover:bg-slate-900 transition-colors disabled:opacity-50",children:x?"Save Changes":"Add to Pool"})]})]})]}),E.jsxs("div",{className:"space-y-3 mt-6",children:[E.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest px-2 mb-2",children:"Current Event Pool"}),E.jsxs("div",{className:"flex flex-col gap-2 px-1 mb-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(F1,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),E.jsx("input",{type:"text",placeholder:"Search event pool...",value:J,onChange:z=>le(z.target.value),className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 text-sm font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("select",{value:ue,onChange:z=>pe(z.target.value),className:"flex-1 bg-white border border-slate-200 text-xs font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"all",children:"All Types"}),E.jsx("option",{value:"sport",children:"Sports"}),E.jsx("option",{value:"game",children:"Board/Card Games"}),E.jsx("option",{value:"video_game",children:"Video Games"}),E.jsx("option",{value:"challenge",children:"Challenges"}),E.jsx("option",{value:"break",children:"Breaks"})]}),E.jsxs("select",{value:_e,onChange:z=>he(z.target.value),className:"flex-1 bg-white border border-slate-200 text-xs font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"a-z",children:"A-Z"}),E.jsx("option",{value:"z-a",children:"Z-A"}),E.jsx("option",{value:"newest",children:"Recently Added"})]})]})]}),e.filter(z=>{if(J&&!z.name.toLowerCase().includes(J.toLowerCase()))return!1;if(ue==="all")return!0;if(ue==="challenge")return z.type==="challenge";if(ue==="break")return z.type==="break";const se=z.category||"game";return z.type==="game"&&se===ue}).sort((z,se)=>_e==="a-z"?z.name.localeCompare(se.name):_e==="z-a"?se.name.localeCompare(z.name):0).map(z=>E.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-slate-200 shadow-sm rounded-2xl group transition-all hover:border-indigo-200",children:[E.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[E.jsx("div",{className:`p-2 rounded-xl ${z.type==="game"?"bg-indigo-50 text-indigo-500":z.type==="challenge"?"bg-yellow-50 text-yellow-500":"bg-emerald-50 text-emerald-500"}`,children:hh(z,24)}),E.jsxs("div",{className:"truncate pr-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"font-bold text-slate-800 text-base truncate",children:z.name}),z.type==="game"&&E.jsx("span",{className:"bg-slate-100 text-slate-500 text-[9px] uppercase tracking-wider font-bold px-2 py-0.5 rounded-md shrink-0",children:z.category==="sport"?"Sport":z.category==="video_game"?"Video Game":"Board/Card"})]}),E.jsxs("div",{className:"flex gap-3 mt-0.5",children:[z.type==="challenge"&&z.description&&E.jsx("div",{className:"text-[10px] text-slate-400 font-semibold truncate max-w-[150px]",children:z.description}),z.type==="game"&&z.powerups?.length>0&&E.jsxs("div",{className:"text-[10px] text-orange-500 font-bold flex items-center gap-1",children:[E.jsx(Xs,{size:10,className:"fill-orange-500"})," ",z.powerups.length," Power-ups"]})]})]})]}),E.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[E.jsx("button",{onClick:()=>D(z),className:"p-2 text-slate-400 hover:text-indigo-500 bg-slate-50 rounded-lg transition-colors",children:E.jsx(gv,{size:16})}),E.jsx("button",{onClick:()=>F(z),className:"p-2 text-slate-400 hover:text-red-500 bg-slate-50 rounded-lg transition-colors",children:E.jsx(yv,{size:16})})]})]},z.id)),e.length===0&&E.jsx("div",{className:"text-center py-8 text-slate-400 font-medium italic",children:"No events in pool."})]})]})}function bN({players:s,events:e,db:i,appId:a,setActiveTab:o}){const[c,d]=Ce.useState({}),[p,v]=Ce.useState([]),[y,A]=Ce.useState(2),[x,V]=Ce.useState(`House Olympics ${new Date().getFullYear()}`),[B,W]=Ce.useState(""),[ee,te]=Ce.useState("all"),[ue,pe]=Ce.useState("a-z"),J=T=>{d(w=>({...w,[T]:!w[T]}))},le=T=>{v(w=>[...w,{...T,instanceId:Date.now()+Math.random(),status:"pending",activePowerups:[]}])},_e=T=>{v(w=>w.filter((I,D)=>D!==T))},he=(T,w)=>{const I=[...p];w==="up"&&T>0?[I[T-1],I[T]]=[I[T],I[T-1]]:w==="down"&&T<I.length-1&&([I[T+1],I[T]]=[I[T],I[T+1]]),v(I)},C=async()=>{const T=s.filter(w=>c[w.id]).map(w=>({id:w.id,name:w.name,score:0,stars:0,totalGameWins:0,powerupsLeft:y}));if(T.length<2)return alert("Select at least 2 players!");if(p.length===0)return alert("Add at least one event to the schedule!");await bm(Wa(i,"artifacts",a,"public","data","sessions"),{name:x,createdAt:Date.now(),status:"active",players:T,schedule:p,currentEventIndex:0,maxPowerups:y})};return E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5",children:[E.jsxs("h2",{className:"text-lg font-black mb-4 text-slate-800 flex items-center gap-2",children:[E.jsx(K1,{className:"text-indigo-500"})," 1. Competitors"]}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(T=>E.jsxs("label",{className:`flex items-center p-3 rounded-2xl border-2 cursor-pointer transition-all ${c[T.id]?"bg-indigo-50 border-indigo-500 text-indigo-800 shadow-sm":"bg-slate-50 border-slate-100 text-slate-600 hover:bg-slate-100"}`,children:[E.jsx("input",{type:"checkbox",className:"hidden",checked:!!c[T.id],onChange:()=>J(T.id)}),E.jsx("div",{className:`w-5 h-5 rounded-md mr-3 flex items-center justify-center transition-colors ${c[T.id]?"bg-indigo-600":"bg-white border-2 border-slate-300"}`,children:c[T.id]&&E.jsx(z1,{size:14,className:"text-white"})}),E.jsx("span",{className:"font-bold text-sm truncate",children:T.name})]},T.id))}),s.length===0&&E.jsx("p",{className:"text-sm text-red-500 mt-2 font-medium",children:"Go to Library to add players first."})]}),E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5",children:[E.jsxs("h2",{className:"text-lg font-black mb-4 text-slate-800 flex items-center gap-2",children:[E.jsx(Q1,{className:"text-slate-500"})," 2. Rules"]}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Session Name"}),E.jsx("input",{type:"text",value:x,onChange:T=>V(T.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 mt-1.5 font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Power-ups per Player"}),E.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-2 rounded-xl border border-slate-200 w-fit mt-1.5",children:[E.jsx("button",{onClick:()=>A(Math.max(0,y-1)),className:"w-10 h-10 flex items-center justify-center bg-white rounded-lg shadow-sm text-slate-600 font-bold active:scale-95 transition-transform",children:"-"}),E.jsx("span",{className:"font-black text-lg w-6 text-center text-slate-800",children:y}),E.jsx("button",{onClick:()=>A(y+1),className:"w-10 h-10 flex items-center justify-center bg-indigo-100 text-indigo-700 rounded-lg shadow-sm font-bold active:scale-95 transition-transform",children:"+"})]})]})]})]}),E.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-5 overflow-hidden",children:[E.jsxs("h2",{className:"text-lg font-black mb-4 text-slate-800 flex items-center gap-2",children:[E.jsx(G1,{className:"text-indigo-500"})," 3. Build Schedule"]}),E.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(F1,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),E.jsx("input",{type:"text",placeholder:"Search events to add...",value:B,onChange:T=>W(T.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-4 py-2.5 text-sm font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("select",{value:ee,onChange:T=>te(T.target.value),className:"flex-1 bg-slate-50 border border-slate-200 text-xs font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"all",children:"All Types"}),E.jsx("option",{value:"sport",children:"Sports"}),E.jsx("option",{value:"game",children:"Board/Card Games"}),E.jsx("option",{value:"video_game",children:"Video Games"}),E.jsx("option",{value:"challenge",children:"Challenges"}),E.jsx("option",{value:"break",children:"Breaks"})]}),E.jsxs("select",{value:ue,onChange:T=>pe(T.target.value),className:"flex-[0.5] bg-slate-50 border border-slate-200 text-xs font-bold text-slate-600 rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm cursor-pointer",children:[E.jsx("option",{value:"a-z",children:"A-Z"}),E.jsx("option",{value:"z-a",children:"Z-A"})]})]})]}),E.jsxs("div",{className:"mb-6 h-[35vh] min-h-[250px] overflow-y-auto space-y-2 p-2 rounded-2xl bg-slate-50 border border-slate-200 shadow-inner",children:[e.filter(T=>{if(B&&!T.name.toLowerCase().includes(B.toLowerCase()))return!1;if(ee==="all")return!0;if(ee==="challenge")return T.type==="challenge";if(ee==="break")return T.type==="break";const w=T.category||"game";return T.type==="game"&&w===ee}).sort((T,w)=>ue==="a-z"?T.name.localeCompare(w.name):ue==="z-a"?w.name.localeCompare(T.name):0).map(T=>E.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-xl shadow-sm hover:border-indigo-300 transition-all group",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`p-2 rounded-lg ${T.type==="game"?"bg-indigo-50 text-indigo-500":T.type==="challenge"?"bg-yellow-50 text-yellow-500":"bg-emerald-50 text-emerald-500"}`,children:hh(T,20)}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-sm font-bold text-slate-800 leading-tight",children:T.name}),T.type==="game"&&E.jsx("span",{className:"text-[9px] uppercase tracking-widest font-bold text-slate-400 mt-0.5",children:T.category==="sport"?"Sport":T.category==="video_game"?"Video Game":"Board/Card Game"}),T.type!=="game"&&E.jsx("span",{className:"text-[9px] uppercase tracking-widest font-bold text-slate-400 mt-0.5",children:T.type==="challenge"?"Challenge":"Break"})]})]}),E.jsx("button",{onClick:()=>le(T),className:"w-10 h-10 shrink-0 flex items-center justify-center bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-600 hover:text-white transition-colors active:scale-95 shadow-sm","aria-label":`Add ${T.name} to schedule`,children:E.jsx("span",{className:"font-bold text-2xl leading-none -mt-1",children:"+"})})]},T.id)),e.length===0&&E.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 py-6 text-center",children:E.jsx("span",{className:"text-sm font-medium",children:"No matching events found."})})]}),E.jsx("div",{className:"space-y-2 bg-slate-50 p-4 rounded-2xl border border-slate-200 min-h-[150px]",children:p.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 py-6 text-center",children:[E.jsx("div",{className:"w-12 h-12 border-2 border-dashed border-slate-300 rounded-xl mb-2 flex items-center justify-center",children:E.jsx(Mo,{size:20,className:"text-slate-300"})}),E.jsx("span",{className:"text-sm font-bold",children:"Tap events above to build your order"})]}):p.map((T,w)=>E.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-xl border border-slate-100 shadow-sm animate-in fade-in zoom-in-95",children:[E.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[E.jsxs("span",{className:"text-slate-400 font-black text-xs w-4",children:[w+1,"."]}),E.jsx("div",{className:`p-1.5 rounded-lg ${T.type==="game"?"bg-indigo-50 text-indigo-500":T.type==="challenge"?"bg-yellow-50 text-yellow-500":"bg-emerald-50 text-emerald-500"}`,children:hh(T,16)}),E.jsx("span",{className:"font-bold text-sm text-slate-700 truncate",children:T.name})]}),E.jsxs("div",{className:"flex items-center gap-1 shrink-0 bg-slate-50 rounded-lg ml-2",children:[E.jsxs("div",{className:"flex flex-col border-r border-slate-200",children:[E.jsx("button",{onClick:()=>he(w,"up"),disabled:w===0,className:"px-2 py-1 text-slate-400 hover:text-slate-800 disabled:opacity-30",children:""}),E.jsx("button",{onClick:()=>he(w,"down"),disabled:w===p.length-1,className:"px-2 py-1 text-slate-400 hover:text-slate-800 disabled:opacity-30",children:""})]}),E.jsx("button",{onClick:()=>_e(w),className:"p-2 text-red-400 hover:text-red-600",children:E.jsx(fp,{size:16})})]})]},T.instanceId))})]}),E.jsxs("button",{onClick:C,className:"w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 text-white py-5 rounded-3xl font-black text-xl shadow-xl hover:shadow-2xl active:scale-[0.98] transition-all flex items-center justify-center gap-3 relative overflow-hidden group mt-4",children:[E.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform"}),E.jsx(Kr,{className:"relative z-10"})," ",E.jsx("span",{className:"relative z-10",children:"Let the Games Begin!"})]}),E.jsx("div",{className:"h-8"})]})}function SN({session:s,db:e,appId:i,players:a,setPowerupModal:o,setChampionModal:c,setConfirmDialog:d}){const p=s.schedule[s.currentEventIndex],v=s.currentEventIndex>=s.schedule.length,[y,A]=Ce.useState({}),[x,V]=Ce.useState({});Ce.useEffect(()=>{A({}),V({})},[s.currentEventIndex]);const B=async J=>{if(!p||p.type!=="game"||!p.powerups||p.powerups.length===0)return;const le=s.players.find(w=>w.id===J);if(le.powerupsLeft<=0||(p.activePowerups||[]).some(w=>w.playerId===J))return;const he=p.powerups[Math.floor(Math.random()*p.powerups.length)],C=s.players.map(w=>w.id===J?{...w,powerupsLeft:w.powerupsLeft-1}:w),T=[...s.schedule];T[s.currentEventIndex].activePowerups||(T[s.currentEventIndex].activePowerups=[]),T[s.currentEventIndex].activePowerups.push({playerId:J,powerup:he}),await Ka(bi(e,"artifacts",i,"public","data","sessions",s.id),{players:C,schedule:T}),o({playerName:le.name,eventName:p.name,finalPowerup:he,allPowerups:p.powerups})},W=async()=>{let J=[...s.players],le={};if(p.type==="game"){let he=-1,C=[];Object.entries(y).forEach(([T,w])=>{const I=parseInt(w)||0;I>he?(he=I,C=[T]):I===he&&C.push(T)}),J=J.map(T=>{const w=parseInt(y[T.id])||0;return{...T,score:T.score+w,totalGameWins:C.includes(T.id)&&w>0?T.totalGameWins+1:T.totalGameWins}}),le={points:y,winners:C}}else p.type==="challenge"&&(J=J.map(he=>({...he,stars:x[he.id]?he.stars+1:he.stars})),le={stars:x});const _e=[...s.schedule];_e[s.currentEventIndex].status="completed",_e[s.currentEventIndex].results=le,await Ka(bi(e,"artifacts",i,"public","data","sessions",s.id),{players:J,schedule:_e,currentEventIndex:s.currentEventIndex+1})},ee=async()=>{let J=null,le=-1,_e=-1,he=null,C=-1;s.players.forEach(T=>{T.score>le?(le=T.score,_e=T.totalGameWins,J=T):T.score===le&&T.totalGameWins>_e&&(_e=T.totalGameWins,J=T),T.stars>C&&T.stars>0&&(C=T.stars,he=T)}),await Ka(bi(e,"artifacts",i,"public","data","sessions",s.id),{status:"completed",pointsChampId:J?.id||null,starsChampId:he?.id||null});for(const T of s.players){const w=a.find(I=>I.id===T.id);w&&await Ka(bi(e,"artifacts",i,"public","data","players",T.id),{lifetimePointsChamps:(w.lifetimePointsChamps||0)+(J?.id===T.id?1:0),lifetimeStarsChamps:(w.lifetimeStarsChamps||0)+(he?.id===T.id?1:0),lifetimeGameWins:(w.lifetimeGameWins||0)+T.totalGameWins,lifetimeChallengeWins:(w.lifetimeChallengeWins||0)+T.stars,lifetimeTotalPoints:(w.lifetimeTotalPoints||0)+T.score,lifetimeTotalStars:(w.lifetimeTotalStars||0)+T.stars})}c({pointsChamp:J,starsChamp:he})},te=()=>{d({title:"Abandon Session",message:"Are you sure you want to completely cancel this Olympics? All scores and progress will be lost immediately.",confirmText:"Abandon",confirmStyle:"danger",onConfirm:async()=>{await Tm(bi(e,"artifacts",i,"public","data","sessions",s.id))}})},ue=[...s.players].sort((J,le)=>le.score-J.score||le.totalGameWins-J.totalGameWins),pe=p?.activePowerups||[];return E.jsxs("div",{className:"space-y-4 pb-10",children:[E.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 text-white rounded-3xl p-5 shadow-lg relative overflow-hidden ring-1 ring-slate-800/50",children:[E.jsx("div",{className:"absolute -top-10 -right-10 opacity-10 rotate-12",children:E.jsx(Kr,{size:150})}),E.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[E.jsx("h2",{className:"text-sm uppercase tracking-widest font-black text-slate-300",children:"Live Standings"}),E.jsx("span",{className:"text-xs font-bold bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full",children:s.name})]}),E.jsx("div",{className:"space-y-2 relative z-10",children:ue.map((J,le)=>E.jsxs("div",{className:"flex items-center justify-between bg-white/10 rounded-xl p-2.5 backdrop-blur-sm border border-white/5",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:`w-7 h-7 rounded-full flex items-center justify-center text-sm font-black shadow-sm ${le===0?"bg-yellow-400 text-yellow-900 ring-2 ring-yellow-200":"bg-slate-700 text-white"}`,children:le+1}),E.jsx("span",{className:"font-bold text-lg",children:J.name})]}),E.jsxs("div",{className:"flex items-center gap-5 text-sm font-black",children:[E.jsxs("span",{className:"flex items-center gap-1.5 justify-end text-yellow-300",children:[E.jsx(zr,{size:16,className:"fill-yellow-400"})," ",J.stars]}),E.jsxs("span",{className:"flex items-center justify-end text-white w-14 text-right",children:[J.score," pts"]})]})]},J.id))})]}),v?E.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200 p-8 text-center animate-in zoom-in duration-500",children:[E.jsx(q1,{size:90,className:"text-yellow-400 mx-auto mb-6 drop-shadow-md"}),E.jsxs("h2",{className:"text-3xl font-black text-slate-800 mb-3 leading-tight",children:["Olympics",E.jsx("br",{}),"Complete!"]}),E.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"All events have been played. It's time to crown the champions."}),E.jsxs("button",{onClick:ee,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-5 rounded-2xl font-black text-xl shadow-xl hover:shadow-2xl transition-all active:scale-95 flex items-center justify-center gap-3",children:[E.jsx(Kr,{size:28})," Crown Champions"]})]}):E.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden relative",children:[E.jsxs("div",{className:`p-6 text-white flex items-center gap-4 ${p.type==="game"?"bg-gradient-to-br from-indigo-500 to-indigo-700":p.type==="challenge"?"bg-gradient-to-br from-yellow-400 to-orange-500":"bg-gradient-to-br from-emerald-400 to-emerald-600"}`,children:[E.jsx("div",{className:"bg-white/20 p-3 rounded-2xl shadow-inner backdrop-blur-sm",children:hh(p,32)}),E.jsxs("div",{children:[E.jsxs("div",{className:"text-xs font-black uppercase tracking-widest opacity-80 mb-1",children:["Event ",s.currentEventIndex+1," of ",s.schedule.length]}),E.jsx("h2",{className:"text-3xl font-black leading-tight drop-shadow-sm",children:p.name})]})]}),E.jsxs("div",{className:"p-6 space-y-6",children:[p.type==="challenge"&&p.description&&E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 text-sm text-yellow-900 shadow-inner",children:[E.jsx("div",{className:"font-black uppercase tracking-wider text-yellow-600 mb-1 text-[10px]",children:"Challenge Rules"}),E.jsx("p",{className:"font-medium leading-relaxed",children:p.description})]}),p.type==="game"&&p.powerups?.length>0&&E.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-2xl p-4 shadow-sm",children:[E.jsxs("h3",{className:"text-orange-800 font-black uppercase tracking-wide flex items-center gap-2 mb-4 text-sm",children:[E.jsx(Xs,{className:"fill-orange-400 text-orange-500",size:18})," Power-Ups Available!"]}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.players.map(J=>{const le=pe.some(_e=>_e.playerId===J.id);return E.jsxs("button",{onClick:()=>B(J.id),disabled:J.powerupsLeft<=0||le,className:`flex flex-col items-center p-3 rounded-xl border-2 shadow-sm transition-all ${le?"bg-orange-100 border-orange-300 opacity-90":J.powerupsLeft>0?"bg-white border-orange-200 hover:border-orange-400 active:scale-95":"bg-slate-50 border-slate-200 grayscale opacity-60"}`,children:[E.jsx("span",{className:"font-bold text-sm text-slate-800",children:J.name}),E.jsx("div",{className:"flex gap-1.5 mt-2",children:Array.from({length:s.maxPowerups}).map((_e,he)=>E.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${he<J.powerupsLeft?"bg-orange-500 shadow-[0_0_5px_rgba(249,115,22,0.6)]":"bg-slate-200"}`},he))}),le?E.jsx("span",{className:"text-[10px] uppercase font-black text-orange-700 mt-2 bg-white px-2 py-0.5 rounded-full shadow-sm ring-1 ring-orange-200",children:"Used for game"}):J.powerupsLeft>0?E.jsx("span",{className:"text-[10px] uppercase font-black text-white mt-2 bg-orange-500 px-3 py-1 rounded-full shadow-sm",children:"Activate"}):E.jsx("span",{className:"text-[10px] uppercase font-black text-slate-400 mt-2",children:"Empty"})]},J.id)})})]}),p.type!=="break"&&E.jsxs("div",{children:[E.jsxs("h3",{className:"font-black text-slate-800 mb-3 text-lg flex items-center gap-2",children:[E.jsx(K1,{size:20,className:"text-slate-400"})," Record Results"]}),E.jsx("div",{className:"space-y-3",children:s.players.map(J=>{const le=pe.find(_e=>_e.playerId===J.id);return E.jsxs("div",{className:"flex flex-col bg-slate-50 p-3 rounded-2xl border border-slate-200",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"font-bold text-slate-800 text-lg ml-1",children:J.name}),p.type==="game"&&E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Points"}),E.jsx("input",{type:"number",min:"0",className:"w-16 h-10 bg-white border border-slate-300 rounded-xl p-2 text-center font-black text-lg focus:ring-2 focus:ring-indigo-500 outline-none shadow-sm",value:y[J.id]||"",onChange:_e=>A({...y,[J.id]:_e.target.value})})]}),p.type==="challenge"&&E.jsxs("label",{className:`flex items-center justify-center w-14 h-12 rounded-xl border-2 cursor-pointer transition-all active:scale-95 shadow-sm ${x[J.id]?"bg-yellow-100 border-yellow-400 text-yellow-600":"bg-white border-slate-200 text-slate-300 hover:bg-slate-50"}`,children:[E.jsx("input",{type:"checkbox",className:"hidden",checked:!!x[J.id],onChange:()=>V({...x,[J.id]:!x[J.id]})}),E.jsx(zr,{size:24,className:x[J.id]?"fill-yellow-400 text-yellow-500 drop-shadow-sm":""})]})]}),le&&E.jsxs("div",{className:"mt-2 bg-orange-100 text-orange-900 text-xs font-bold p-2 rounded-lg border border-orange-200 flex items-start gap-2 shadow-inner",children:[E.jsx(Xs,{size:14,className:"fill-orange-500 text-orange-600 shrink-0 mt-0.5"}),E.jsxs("span",{className:"leading-tight",children:["Active: ",le.powerup]})]})]},J.id)})})]}),p.type==="break"&&E.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-2xl border border-slate-200",children:[E.jsx(B1,{size:56,className:"text-emerald-400 mx-auto mb-4 drop-shadow-sm"}),E.jsx("h3",{className:"text-2xl font-black text-slate-700",children:"Take a breather!"}),E.jsx("p",{className:"text-slate-500 font-medium mt-2",children:"Grab snacks, stretch those legs, check the score."})]}),E.jsxs("button",{onClick:W,className:`w-full py-5 rounded-2xl font-black text-white text-xl shadow-lg hover:shadow-xl transition-all active:scale-[0.98] flex justify-center items-center gap-3 ${p.type==="break"?"bg-slate-800 hover:bg-slate-900":"bg-green-600 hover:bg-green-700"}`,children:[E.jsx(z1,{size:28})," ",p.type==="break"?"End Break":"Save & Next Event"]})]})]}),E.jsxs("div",{className:"bg-white rounded-3xl p-5 border border-slate-200 shadow-sm mt-4",children:[E.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 px-1",children:"Schedule Overview"}),E.jsx("div",{className:"space-y-1.5",children:s.schedule.map((J,le)=>E.jsxs("div",{className:`flex items-center gap-3 p-2.5 rounded-xl text-sm transition-all ${le<s.currentEventIndex?"opacity-40 grayscale":le===s.currentEventIndex?"bg-indigo-50 font-bold border border-indigo-100 shadow-sm scale-[1.02]":"bg-slate-50"}`,children:[E.jsx("span",{className:"w-5 text-center text-slate-400 font-bold text-xs",children:le+1}),E.jsx("div",{className:`w-2.5 h-2.5 rounded-full shadow-sm ${J.status==="completed"?"bg-green-500":le===s.currentEventIndex?"bg-indigo-500 animate-pulse":"bg-slate-300"}`}),E.jsx("span",{className:`flex-1 font-semibold ${J.status==="completed"?"line-through text-slate-500":"text-slate-700"}`,children:J.name}),J.powerups?.length>0&&le>=s.currentEventIndex&&E.jsx(Xs,{size:14,className:"text-orange-400 fill-orange-400/30"})]},J.instanceId))})]}),!v&&E.jsxs("button",{onClick:te,className:"w-full text-center text-red-400 hover:text-red-600 text-xs font-black uppercase tracking-widest py-6 flex items-center justify-center gap-2 transition-colors",children:[E.jsx(uN,{size:16})," Abandon Session"]})]})}function AN({data:s,onClose:e}){const[i,a]=Ce.useState("???"),[o,c]=Ce.useState(!0);return Ce.useEffect(()=>{let d;return o&&(d=setInterval(()=>{a(s.allPowerups[Math.floor(Math.random()*s.allPowerups.length)])},80),setTimeout(()=>{clearInterval(d),a(s.finalPowerup),c(!1)},2e3)),()=>clearInterval(d)},[s.allPowerups,s.finalPowerup,o]),E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md animate-in fade-in",children:E.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-sm shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 border border-white/20",children:[E.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-red-500 p-8 text-center text-white relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent"}),E.jsx(Xs,{size:72,className:`mx-auto mb-3 drop-shadow-lg relative z-10 ${o?"animate-pulse scale-110":""}`}),E.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest drop-shadow-md relative z-10",children:"Power-Up!"}),E.jsxs("p",{className:"font-bold opacity-90 relative z-10 mt-1",children:[s.playerName,"'s bonus for ",s.eventName]})]}),E.jsx("div",{className:`p-10 text-center transition-colors duration-500 ${o?"bg-slate-50":"bg-orange-50"}`,children:E.jsx("div",{className:`text-2xl font-black leading-snug transition-all duration-200 ${o?"text-slate-400 scale-95 blur-[1px]":"text-orange-900 scale-100 drop-shadow-sm"}`,children:o?i:`"${i}"`})}),E.jsx("div",{className:"p-5 bg-white",children:E.jsx("button",{onClick:e,disabled:o,className:"w-full bg-slate-800 text-white py-4 rounded-2xl font-black text-lg active:scale-95 transition-all disabled:opacity-50 disabled:active:scale-100 hover:bg-slate-900",children:o?"Selecting...":"Let's Go!"})})]})})}function wN({data:s,onClose:e}){const{pointsChamp:i,starsChamp:a}=s;return E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-md animate-in fade-in duration-500",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden flex justify-around opacity-70",children:[...Array(15)].map((o,c)=>E.jsx("div",{className:`w-3 h-10 rounded-full bg-${["red","yellow","blue","green","purple","orange"][c%6]}-500 animate-[bounce_2s_ease-in-out_infinite]`,style:{animationDelay:`${c*.15}s`,opacity:.8}},c))}),E.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-md shadow-2xl overflow-hidden animate-in zoom-in-75 duration-500 relative z-10 ring-4 ring-yellow-400/50",children:[E.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-indigo-900 p-10 text-center text-white relative",children:[E.jsx(Kr,{size:90,className:"mx-auto mb-4 text-yellow-400 drop-shadow-[0_0_25px_rgba(250,204,21,0.6)]"}),E.jsx("h2",{className:"text-xl font-black uppercase tracking-widest text-indigo-200 mb-2",children:"Grand Champion"}),E.jsx("div",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-500 drop-shadow-md pb-1",children:i?.name||"No Winner"}),E.jsxs("p",{className:"mt-3 text-indigo-100 font-bold text-lg bg-black/20 inline-block px-4 py-1.5 rounded-full",children:[i?.score||0," pts  ",i?.totalGameWins||0," wins"]})]}),a&&a.id!==i?.id&&E.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-200 text-center shadow-inner",children:[E.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:"Star Champion"}),E.jsxs("div",{className:"flex items-center justify-center gap-3",children:[E.jsx(zr,{size:32,className:"fill-yellow-400 text-yellow-500 drop-shadow-sm"}),E.jsx("span",{className:"text-3xl font-black text-slate-800",children:a.name})]}),E.jsxs("p",{className:"text-sm font-bold text-slate-500 mt-2",children:[a.stars," challenge wins"]})]}),a&&a.id===i?.id&&E.jsxs("div",{className:"p-5 bg-gradient-to-r from-yellow-100 via-amber-100 to-yellow-100 text-center text-yellow-800 font-black text-sm flex items-center justify-center gap-2 border-y border-yellow-200",children:[E.jsx(zr,{size:18,className:"fill-yellow-500 text-yellow-600"})," UNDISPUTED DOUBLE CHAMPION ",E.jsx(zr,{size:18,className:"fill-yellow-500 text-yellow-600"})]}),E.jsx("div",{className:"p-6 bg-white",children:E.jsx("button",{onClick:e,className:"w-full bg-slate-100 text-slate-800 py-4 rounded-2xl font-black text-lg active:scale-95 transition-all hover:bg-slate-200",children:"Back to Dashboard"})})]})]})}function xN({data:s,onClose:e}){return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:E.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm shadow-2xl p-6 animate-in zoom-in-95 duration-200",children:[E.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2",children:s.title}),E.jsx("p",{className:"text-slate-600 font-medium mb-6 leading-relaxed",children:s.message}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:e,className:"flex-1 bg-slate-100 text-slate-700 font-bold py-3 rounded-xl hover:bg-slate-200 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:()=>{s.onConfirm(),e()},className:`flex-1 font-bold py-3 rounded-xl text-white transition-colors shadow-sm ${s.confirmStyle==="danger"?"bg-red-500 hover:bg-red-600":"bg-indigo-600 hover:bg-indigo-700"}`,children:s.confirmText})]})]})})}Vb.createRoot(document.getElementById("root")).render(E.jsx(Ce.StrictMode,{children:E.jsx(vN,{})}));
